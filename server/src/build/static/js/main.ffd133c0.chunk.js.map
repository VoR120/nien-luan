{"version":3,"sources":["action/orderAction.js","reducer/ProductDetailReducer.js","contextAPI/ProductDetailContext.js","reducer/OrderReducer.js","contextAPI/OrderContext.js","helper/adminAxios.js","action/initialData.js","component/HOC/ScrollToTop.js","component/HOC/PrivateAdminRoute.js","component/HOC/PrivateRoute.js","config/routesConfig.js","pages/routes.js","App.js","contextAPI/ThemeContext.js","contextAPI/index.js","index.js","reducer/UserReducer.js","contextAPI/UserContext.js","reducer/CartReducer.js","contextAPI/CartContext.js","reducer/ProductReducer.js","contextAPI/ProductContext.js","reducer/CategoryReducer.js","contextAPI/CategoryContext.js","action/cartAction.js","reducer/AuthReducer.js","contextAPI/AuthContext.js","reducer/OrderAdminReducer.js","contextAPI/OrderAdminContext.js","config/urlConfig.js","helper/axios.js","reducer/SnackbarReducer.js","contextAPI/SnackbarContext.js","action/productAction.js","action/authAction.js","action/userAction.js","reducer/AddressReducer.js","contextAPI/AddressContext.js"],"names":["addOrder","payload","a","console","log","newItems","items","map","item","i","productId","product","_id","config","method","url","data","axios","res","getOrder","dispatch","type","result","order","Promise","all","el","index","aaxios","get","addressId","address","orders","getAllOrder","updateOrder","orderStatus","find","isCompleted","put","res1","status","response","cancelOrder","id","initialState","loading","error","ProductDetailReducer","state","action","ProductDetailContext","createContext","ProductDetailContextProvider","props","useReducer","productDetail","productDetailDispatch","Provider","value","children","OrderReducer","OrderContext","OrderContextProvider","orderDispatch","token","JSON","parse","window","localStorage","getItem","axiosIntance","create","baseURL","api","getRate","ratings","quantity","length","rate","reduce","b","Number","rating","getInitialData","categoryDispatch","productDispatch","newData","ratingView","categories","category","products","withRouter","history","useEffect","unlisten","listen","scrollTo","PrivateAdminRoute","Component","component","rest","to","RouteList","routes","path","isPrivate","isPrivateAdmin","PrivateRoute","exact","lazy","useStyles","makeStyles","theme","backdrop","background","zIndex","drawer","color","App","classes","useContext","AuthContext","aUser","aDispatch","UserContext","user","CategoryContext","orderAdminDispatch","OrderAdminContext","CartContext","cartDispatch","cart","ProductContext","isAdminLogin","isAuthenticated","isUserLogin","getAllProduct","getCart","className","fallback","Backdrop","open","CircularProgress","createTheme","adaptV4Theme","palette","primary","main","dark","light","secondary","typography","h1","fontSize","h2","h3","h4","h5","h6","ThemeContextProvider","StyledEngineProvider","injectFirst","ThemeProvider","AppContextProvider","ThemeContext","SnackbarContext","AddressContext","ReactDOM","render","StrictMode","document","getElementById","userDetails","message","UserReducer","msg","UserContextProvider","cartObj","CartReducer","cartItems","cartState","cartItem","price","push","findIndex","c","cartStateUpdate","productUpdate","quantityUpdate","priceUpdate","filter","CartContextProvider","ProductReducer","newProduct","unshift","productImages","name","slug","description","size","weight","brand","magnet","productState","p","ProductContextProvider","createNewCategory","parentId","undefined","myCategories","cate","newCate","updateCategory","categoryState","categoryUpdate","deleteCategory","ch","CategoryReducer","newCategory","newCategoryUpdate","newCategoryDelete","CategoryContextProvider","cart_db","addToCart","updateCart","removeCartItem","clearCart","AuthReducer","AuthContextProvider","OrderAdminReducer","newState","orderState","OrderAdminContextProvider","orderAdmin","SnackbarReducer","Error","SnackbarContextProvider","openSnackbar","openSnackbarDispatch","product_db","getNewestProduct","slice","getPopulateProduct","getRelateProduct","getProduct","filterArr","forEach","key","paramFilter","param","getProductDetail","addProduct","updateProduct","deleteProduct","deleteArray","image","img","public_id","post","resCloud","searchProduct","toLowerCase","adminLogin","setItem","stringify","defaults","headers","common","adminRegister","role","adminLogout","removeItem","userLogin","userRegister","userLogout","ratingUser","then","changePassword","password","newPassword","AddressReducer","AddressContextProvider","addressDispatch"],"mappings":"oUAGaA,EAAQ,uCAAG,WAAOC,GAAP,mBAAAC,EAAA,6DACpBC,QAAQC,IAAIH,GACRI,EAAWJ,EAAQK,MAAMC,KAAI,SAAAC,GAC7B,IAAIC,EAAC,eAAQD,GAIb,OAHAC,EAAEC,UAAYF,EAAKG,QAAQC,WACpBH,EAAEE,eACFF,EAAEG,IACFH,KAEXR,EAAQK,MAAQD,EATI,SAWZQ,EAAS,CACTC,OAAQ,OACRC,IAAK,gBACLC,KAAMf,GAdM,SAgBEgB,YAAMJ,GAhBR,OAgBVK,EAhBU,OAiBhBf,QAAQC,IAAIc,GAjBI,kDAmBhBf,QAAQC,IAAR,MAnBgB,0DAAH,sDAuBRe,EAAQ,uCAAG,WAAOC,GAAP,mBAAAlB,EAAA,sEAEhBkB,EAAS,CAAEC,KAAM,sBACbR,EAAS,CACTC,OAAQ,MACRC,IAAK,kBALO,SAOEE,YAAMJ,GAPR,cAOVK,EAPU,OAQVI,EARU,YAQGJ,EAAIF,KAAKO,OARZ,SASVC,QAAQC,IAAKP,EAAIF,KAAKO,MAAMhB,IAAf,uCAAmB,WAAOmB,EAAIC,GAAX,eAAAzB,EAAA,sEAChB0B,IAAOC,IAAI,6BAA+BH,EAAGI,WAD7B,OAC5BZ,EAD4B,OAElCI,EAAOK,GAAOI,QAAUb,EAAIF,KAAKe,QAAQ,GAFP,2CAAnB,0DATH,OAahB5B,QAAQC,IAAIkB,GACZF,EAAS,CACLC,KAAM,oBACNpB,QAAS,CAAE+B,OAAQV,KAhBP,kDAmBhBnB,QAAQC,IAAR,MAnBgB,0DAAH,sDAuBR6B,EAAW,uCAAG,WAAOb,GAAP,mBAAAlB,EAAA,sEAEnBkB,EAAS,CAAEC,KAAM,0BACbR,EAAS,CACTC,OAAQ,MACRC,IAAK,qBALU,SAODa,YAAOf,GAPN,cAObK,EAPa,OAQbI,EARa,YAQAJ,EAAIF,KAAKO,OART,SASbC,QAAQC,IAAKP,EAAIF,KAAKO,MAAMhB,IAAf,uCAAmB,WAAOmB,EAAIC,GAAX,eAAAzB,EAAA,sEAChB0B,IAAOC,IAAI,6BAA+BH,EAAGI,WAD7B,OAC5BZ,EAD4B,OAElCI,EAAOK,GAAOI,QAAUb,EAAIF,KAAKe,QAAQ,GAFP,2CAAnB,0DATA,OAanB5B,QAAQC,IAAIkB,GACZF,EAAS,CACLC,KAAM,wBACNpB,QAAS,CAAE+B,OAAQV,KAhBJ,kDAmBnBnB,QAAQC,IAAR,MAnBmB,0DAAH,sDAuBX8B,EAAW,uCAAG,WAAOd,EAAUnB,GAAjB,2BAAAC,EAAA,6DACvBC,QAAQC,IAAIH,GACJW,EAA4BX,EAA5BW,IAAKN,EAAuBL,EAAvBK,MAAO6B,EAAgBlC,EAAhBkC,YACdd,EAAOc,EAAYC,MAAK,SAAAV,GAAE,OAAKA,EAAGW,eAAahB,KAH9B,SAKnBD,EAAS,CAAEC,KAAM,yBALE,SAMDO,IAAOU,IAAI,mBAAoB,CAAE1B,MAAKN,QAAOe,SAN5C,cAMbH,EANa,OAOnBf,QAAQC,IAAIc,GACNI,EARa,eAQAJ,EAAIF,KAAKO,OART,UASAK,IAAOC,IAAI,6BAA+BP,EAAOQ,WATjD,QASbS,EATa,OAUnBjB,EAAOS,QAAUQ,EAAKvB,KAAKe,QAAQ,GACjB,KAAdb,EAAIsB,QACJpB,EAAS,CACLC,KAAM,uBACNpB,QAAS,CACLsB,MAAOD,KAfA,kDAoBnBnB,QAAQC,IAAI,KAAMqC,SAASzB,MApBR,0DAAH,wDAwBX0B,EAAW,uCAAG,WAAOzC,EAASoB,GAAhB,eAAAnB,EAAA,+EAEDe,IAAMqB,IAAI,mBAAoB,CAAE1B,IAAKX,EAAQ0C,GAAItB,SAFhD,UAEbH,EAFa,OAGnBf,QAAQC,IAAIc,GACM,KAAdA,EAAIsB,OAJW,yCAKRtB,GALQ,uDAOnBf,QAAQC,IAAI,KAAMqC,SAASzB,MAPR,yDAAH,yD,2DChGX4B,EAAe,CACxBjC,QAAS,KACTkC,SAAS,EACTC,MAAO,MA0BIC,EAvBc,SAACC,EAAOC,GAEjC,OADA9C,QAAQC,IAAI6C,GACJA,EAAO5B,MACX,IAAK,6BACD,OAAO,2BACA2B,GADP,IAEIH,SAAS,IAEjB,IAAK,6BACD,OAAO,2BACAG,GADP,IAEIrC,QAASsC,EAAOhD,QAAQU,QACxBkC,SAAS,IAEjB,IAAK,gCACD,OAAO,eACAD,GAEX,QACI,OAAOA,I,OCtBNM,EAAuBC,0BAWrBC,IATsB,SAACC,GAClC,MAA+CC,qBAAWP,EAAsBH,GAAhF,mBAAOW,EAAP,KAAsBC,EAAtB,KACA,OACI,cAACN,EAAqBO,SAAtB,CAA+BC,MAAO,CAAEH,gBAAeC,yBAAvD,SACKH,EAAMM,a,6FCTNf,EAAe,CACxBZ,OAAQ,GACRa,SAAS,EACTC,MAAO,MAsBIc,EAnBM,SAACZ,EAAOC,GAEzB,OADA9C,QAAQC,IAAI,kBAAkB6C,GACtBA,EAAO5B,MACX,IAAK,oBACD,OAAO,2BACA2B,GADP,IAEIH,SAAS,IAEjB,IAAK,oBACD,OAAO,2BACAG,GADP,IAEIhB,OAAQiB,EAAOhD,QAAQ+B,OACvBa,SAAS,IAEjB,QACI,OAAOD,I,OClBNiB,EAAeV,0BAWbW,IATc,SAACT,GAC1B,MAA+BC,qBAAWM,EAAchB,GAAxD,mBAAOrB,EAAP,KAAcwC,EAAd,KACA,OACI,cAACF,EAAaJ,SAAd,CAAuBC,MAAO,CAAEnC,QAAOwC,iBAAvC,SACKV,EAAMM,a,gCCTnB,6BAGMK,EAAQC,KAAKC,MAAMC,OAAOC,aAAaC,QAAQ,YACrDlE,QAAQC,IAAI4D,GAEZ,IAAMM,EAAerD,IAAMsD,OAAO,CAChCC,QAASC,MAGIH,O,0NCRTI,EAAU,SAACC,GACb,IAAMC,EAAWD,EAAQE,OAGzB,MAAO,CAAEC,KAFGH,EAAQI,QAAO,SAAC7E,EAAG8E,GAAJ,OAAUC,OAAO/E,GAAK+E,OAAOD,EAAEE,UAAS,GAC/CN,GAAa,EAClBA,aAGNO,EAAc,uCAAG,WAAOC,EAAkBC,GAAzB,iBAAAnF,EAAA,sEAEtBkF,EAAiB,CAAE/D,KAAM,6BACzBgE,EAAgB,CAAEhE,KAAM,4BAHF,SAIJJ,IAAMY,IAAI,wBAJN,UAMH,OAFbX,EAJgB,QAMdsB,OANc,wBAQd8C,EARc,YAQApE,EAAIF,KAAKL,SAC3BO,EAAIF,KAAKL,QAAQJ,KAAI,SAACmB,EAAIC,GACtB2D,EAAQ3D,GAAO4D,WAAab,EAAQhD,EAAGiD,YAVzB,UAaZS,EAAiB,CACnB/D,KAAM,2BACNpB,QAAS,CACLuF,WAAYtE,EAAIF,KAAKyE,YAhBX,yBAmBZJ,EAAgB,CAClBhE,KAAM,0BACNpB,QAAS,CACLyF,SAAUJ,KAtBA,iDA0BZF,EAAiB,CACnB/D,KAAM,0BACNpB,QAAS,CACL6C,MAAO5B,EAAIF,KAAK8B,SA7BN,yBAgCZuC,EAAgB,CAClBhE,KAAM,yBACNpB,QAAS,CACL6C,MAAO5B,EAAIF,KAAK8B,SAnCN,0DAwCtB3C,QAAQC,IAAR,MAxCsB,0DAAH,wD,iBCOZuF,mBAbf,YAAmC,IAAZC,EAAW,EAAXA,QAUrB,OATAC,qBAAU,WACR,IAAMC,EAAWF,EAAQG,QAAO,WAC9B5B,OAAO6B,SAAS,EAAG,MAErB,OAAO,WACLF,OAED,IAEK,Q,sCCCKG,EAZW,SAAC,GAAuC,IAA1BC,EAAyB,EAApCC,UAAyBC,EAAW,iBAC7D,OACI,cAAC,IAAD,2BACQA,GADR,IAEID,UAAW,SAAC9C,GAER,OADce,aAAaC,QAAQ,WACpB,cAAC6B,EAAD,eAAe7C,IAAY,cAAC,IAAD,CAAUgD,GAAI,sB,gBCMzDJ,EAZW,SAAC,GAAuC,IAA1BC,EAAyB,EAApCC,UAAyBC,EAAW,iBAC7D,OACI,cAAC,IAAD,2BACQA,GADR,IAEID,UAAW,SAAC9C,GAER,OADce,aAAaC,QAAQ,SACpB,cAAC6B,EAAD,eAAe7C,IAAY,cAAC,IAAD,CAAUgD,GAAI,gB,oDC+CzDC,EAlDG,SAACjD,GACf,OACI,cAAC,WAAD,UACKA,EAAMkD,OAAOhG,KAAI,YAAyE,IAA3D2F,EAA0D,EAArEC,UAAsBK,EAA+C,EAA/CA,KAAMC,EAAyC,EAAzCA,UAAWC,EAA8B,EAA9BA,eAAmBN,EAAW,iBACtF,OAAIM,EAEI,cAAC,EAAD,aACIP,UAAWD,EACXM,KAAMA,GACFJ,GAHgBI,GAMvBC,EAED,cAACE,EAAD,aACIR,UAAWD,EACXM,KAAMA,GACFJ,GAHWI,GASnB,cAAC,IAAD,aACIL,UAAWD,EACXM,KAAMA,GACFJ,GAHII,S,gDC1BvBD,EAAS,CAClB,CACIC,KAAM,WACNI,OAAO,EACPT,UAAWU,gBAAK,kBAAM,4EACtBH,gBAAgB,GAEpB,CACIF,KAAM,YACNI,OAAO,EACPT,UAAWU,gBAAK,kBAAM,4EACtBH,gBAAgB,GAEpB,CACIF,KAAM,eACNI,OAAO,EACPT,UAAWU,gBAAK,kBAAM,8EAE1B,CACIL,KAAM,kBACNI,OAAO,EACPT,UAAWU,gBAAK,kBAAM,8EAE1B,CACIL,KAAM,UACNI,OAAO,EACPT,UAAWU,gBAAK,kBAAM,6EACtBH,gBAAgB,GAEpB,CACIF,KAAM,YACNI,OAAO,EACPT,UAAWU,gBAAK,kBAAM,4EACtBH,gBAAgB,GAEpB,CACIF,KAAM,SACNI,OAAO,EACPT,UAAWU,gBAAK,kBAAM,8EACtBH,gBAAgB,GAEpB,CACIF,KAAM,IACNI,OAAO,EACPT,UAAWU,gBAAK,kBAAM,wEAE1B,CACIL,KAAM,uBACNI,OAAO,EACPT,UAAWU,gBAAK,kBAAM,8EAE1B,CACIL,KAAM,wBACNI,OAAO,EACPT,UAAWU,gBAAK,kBAAM,8EAE1B,CACIL,KAAM,QACNI,OAAO,EACPT,UAAWU,gBAAK,kBAAM,8EAE1B,CACIL,KAAM,SACNI,OAAO,EACPT,UAAWU,gBAAK,kBAAM,6EACtBJ,WAAW,GAEf,CACID,KAAM,SACNI,OAAO,EACPT,UAAWU,gBAAK,kBAAM,8EAE1B,CACIL,KAAM,YACNI,OAAO,EACPT,UAAWU,gBAAK,kBAAM,8EAE1B,CACIL,KAAM,QACNI,OAAO,EACPT,UAAWU,gBAAK,kBAAM,6EACtBJ,WAAW,GAEf,CACID,KAAM,WACNI,OAAO,EACPT,UAAWU,gBAAK,kBAAM,6EACtBJ,WAAW,I,iBCpEbK,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,SAAU,CACRC,WAAY,OACZC,OAAQH,EAAMG,OAAOC,OAAS,EAC9BC,MAAO,YAmEIC,MA/Df,WACE,IAAMC,EAAUT,IAChB,EAA6BU,qBAAWC,KAAhCC,EAAR,EAAQA,MAAOC,EAAf,EAAeA,UACf,EAA2BH,qBAAWI,KAA9BC,EAAR,EAAQA,KAAMzG,EAAd,EAAcA,SACNgE,EAAqBoC,qBAAWM,KAAhC1C,iBACA2C,EAAuBP,qBAAWQ,KAAlCD,mBACR,EAA+BP,qBAAWS,KAA5BC,GAAd,EAAQC,KAAR,EAAcD,cACN7C,EAAoBmC,qBAAWY,KAA/B/C,gBAoCR,OAlCAQ,qBAAU,WAER,GADAwC,YAAaV,IACRD,EAAMY,gBACT,OAAO,cAAC,IAAD,CAAUjC,GAAG,mBAErB,IAEHR,qBAAU,WACJ6B,EAAMY,kBACRnD,EAAeC,EAAkBC,GACjCpD,YAAY8F,MAEb,CAACL,EAAMY,kBAEVzC,qBAAU,WAIR,GAHA0C,YAAYnH,GACZoH,YAAcnD,GACdoD,YAAQP,IACHL,EAAKS,gBACR,OAAO,cAAC,IAAD,CAAUjC,GAAG,aAErB,IAEHR,qBAAU,WACJgC,EAAKS,iBACPG,YAAQP,KAET,CAACL,IAQF,qBAAKa,UAAU,MAAf,SACE,eAAC,IAAD,WACE,cAAC,EAAD,IACA,cAAC,IAAD,UACE,cAAC,WAAD,CACEC,SACE,cAACC,EAAA,EAAD,CAAUF,UAAWnB,EAAQN,SAAU4B,MAAM,EAA7C,SACE,cAACC,EAAA,EAAD,CAAkBzB,MAAM,cAH9B,SAOE,cAAC,EAAD,CAAWd,OAAQA,c,mCChFzBS,EAAQ+B,YAAYC,YAAa,CACnCC,QAAS,CACLC,QAAS,CACLC,KAAM,UACNC,KAAM,UACNC,MAAO,WAEXC,UAAW,CACPH,KAAM,OACNE,MAAO,OACPD,KAAM,YAGdG,WAAY,CACRC,GAAI,CACAC,SAAU,QAEdC,GAAI,CACAD,SAAU,WAEdE,GAAI,CACAF,SAAU,UAEdG,GAAI,CACAH,SAAU,WAEdI,GAAI,CACAJ,SAAU,QAEdK,GAAI,CACAL,SAAU,eAePM,EAVc,SAAC1G,GAC1B,OACI,cAAC2G,EAAA,EAAD,CAAsBC,aAAW,EAAjC,SACI,cAACC,EAAA,EAAD,CAAelD,MAAOA,EAAtB,SACK3D,EAAMM,c,kCCFRwG,EA5BY,SAAC9G,GACxB,OACI,cAAC+G,EAAD,UACI,cAACC,EAAA,EAAD,UACI,cAAC5C,EAAA,EAAD,UACI,cAACG,EAAA,EAAD,UACI,cAACE,EAAA,EAAD,UACI,cAACM,EAAA,EAAD,UACI,cAAClF,EAAA,EAAD,UACI,cAAC+E,EAAA,EAAD,UACI,cAACqC,EAAA,EAAD,UACI,cAACzG,EAAA,EAAD,UACI,cAACmE,EAAA,EAAD,UACK3E,EAAMM,gC,OCpB3D4G,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,U,4FCTb/H,EAAe,CACxB0F,iBAAiB,EACjBsC,YALOxG,aAAaC,QAAQ,QAAUJ,KAAKC,MAAME,aAAaC,QAAQ,SAAW,GAMjFL,MALQI,aAAaC,QAAQ,SAAWJ,KAAKC,MAAME,aAAaC,QAAQ,UAAY,GAMpFxB,SAAS,EACTC,MAAO,KACP+H,QAAS,MA6DEC,EA1DK,SAAC9H,EAAOC,GAExB,OADA9C,QAAQC,IAAI,WAAY6C,GAChBA,EAAO5B,MACX,IAAK,gBACD,OAAO,2BACA2B,GADP,IAEIH,SAAS,IAEjB,IAAK,gBACD,OAAO,2BACAG,GADP,IAEIsF,iBAAiB,EACjBsC,YAAa3H,EAAOhD,QAAQ4H,KAC5B7D,MAAOf,EAAOhD,QAAQ+D,MACtBnB,SAAS,EACTC,MAAO,KACP+H,QAAS,OAEjB,IAAK,eACD,OAAO,2BACA7H,GADP,IAEIsF,iBAAiB,EACjBzF,SAAS,EACTC,MAAOG,EAAOH,MAAMzB,KACpBwJ,QAAS5H,EAAOH,MAAMiI,MAE9B,IAAK,SACD,OAAO,2BACA/H,GADP,IAEIsF,iBAAiB,EACjBsC,YAAa,GACb5G,MAAO,KAEf,IAAK,mBACD,OAAO,2BACAhB,GADP,IAEIH,SAAS,IAEjB,IAAK,mBACD,OAAO,2BACAG,GADP,IAEIF,MAAO,KACP+H,QAAS5H,EAAOhD,QAChB4C,SAAS,IAEjB,IAAK,kBACD,OAAO,2BACAG,GADP,IAEIF,MAAOG,EAAOhD,QAAQ6C,MAAMzB,KAC5BwJ,QAAS5H,EAAOhD,QAAQ6C,MAAMiI,IAC9BlI,SAAS,IAEjB,QACI,OAAOG,I,OC9DN4E,EAAczE,0BAYZ6H,IAVa,SAAC3H,GACzB,MAAyBC,qBAAWwH,EAAalI,GAAjD,mBAAOiF,EAAP,KAAazG,EAAb,KAEA,OACI,cAACwG,EAAYnE,SAAb,CAAsBC,MAAO,CAAEmE,OAAMzG,YAArC,SACKiC,EAAMM,a,2GCRNf,EAAe,CACxBqI,QAHWhH,KAAKC,MAAME,aAAaC,QAAQ,UAGxB,GACnBxB,SAAS,EACTC,MAAO,MAgGIoI,EA7FK,SAAClI,EAAOC,GAExB,OADA9C,QAAQC,IAAI6C,GACJA,EAAO5B,MACX,IAAK,mBACD,OAAO,2BACA2B,GADP,IAEIH,SAAS,IAEjB,IAAK,mBACD,OAAO,2BACAG,GADP,IAEIiI,QAAShI,EAAOhD,QAAQkL,UACxBtI,SAAS,IAEjB,IAAK,sBACD,OAAO,2BACAG,GADP,IAEIH,SAAS,IAEjB,IAAK,sBACD,IAAIuI,EAAS,YAAOpI,EAAMiI,SAC1B,EAAqChI,EAAOhD,QAAQoL,SAA5C1K,EAAR,EAAQA,QAASiE,EAAjB,EAAiBA,SAAU0G,EAA3B,EAA2BA,MAC3B,GAAyB,IAArBF,EAAUvG,OACVuG,EAAUG,KAAK,CAAE5K,UAASiE,WAAU0G,cACjC,CACH,IAAI3J,EAAQyJ,EAAUI,WAAU,SAAAC,GAAC,OAAIA,EAAE9K,QAAQC,MAAQD,EAAQC,OAC3De,GAAS,EACTyJ,EAAUzJ,GAAV,2BACOyJ,EAAUzJ,IADjB,IAEIiD,SAAUwG,EAAUzJ,GAAOiD,SAAWK,OAAOL,GAC7C0G,MAAOF,EAAUzJ,GAAO2J,MAAQA,IAGpCF,EAAUG,KAAK,CAAE5K,UAASiE,WAAU0G,UAI5C,OAAO,2BACAtI,GADP,IAEIiI,QAASG,EACTvI,SAAS,IAEjB,IAAK,2BACD,OAAO,2BACAG,GADP,IAEIH,SAAS,IAEjB,IAAK,2BACD,IAAQwI,EAAapI,EAAOhD,QAApBoL,SACJK,EAAe,YAAO1I,EAAMiI,SAC5BtJ,EAAQ+J,EAAgBF,WAAU,SAAAC,GAAC,OAAIA,EAAE9K,QAAQC,MAAQyK,EAASM,cAAc/K,OASpF,OARIe,GAAS,IACT+J,EAAgB/J,GAAhB,2BACO+J,EAAgB/J,IADvB,IAEIiD,SAAUyG,EAASO,eACnBN,MAAOD,EAASQ,eAIjB,2BACA7I,GADP,IAEIiI,QAASS,EACT7I,SAAS,IAEjB,IAAK,2BACD,OAAO,2BACAG,GADP,IAEIH,SAAS,IAEjB,IAAK,2BAED,OAAO,2BACAG,GADP,IAEIH,SAAS,EACToI,QAASjI,EAAMiI,QAAQa,QAAO,SAAAtL,GAAI,OAAIA,EAAKG,QAAQC,MAAQqC,EAAOhD,QAAQW,SAElF,IAAK,qBACD,OAAO,2BACAoC,GADP,IAEIH,SAAS,IAEjB,IAAK,qBAED,MAAO,CACHoI,QAAS,GACTpI,SAAS,EACTC,MAAO,MAEf,QACI,OAAOF,I,eC5FNqF,EAAc9E,0BAWZ4I,IATa,SAAC1I,GACzB,MAA6BC,qBAAW4H,EAAatI,GAArD,mBAAOuF,EAAP,KAAaD,EAAb,KACA,OACI,cAACD,EAAYxE,SAAb,CAAsBC,MAAO,CAAEyE,OAAMD,gBAArC,SACK7E,EAAMM,a,mGCXNf,EAAe,CACxB8C,SAAU,GACV7C,SAAS,EACTC,MAAO,MA8FIkJ,EA3FQ,SAAChJ,EAAOC,GAE3B,OADA9C,QAAQC,IAAI6C,GACJA,EAAO5B,MACX,IAAK,0BACD,OAAO,2BACA2B,GADP,IAEIH,SAAS,IAEjB,IAAK,0BACD,OAAO,2BACAG,GADP,IAEI0C,SAAUzC,EAAOhD,QAAQyF,SACzB7C,SAAS,IAEjB,IAAK,yBACD,OAAO,2BACAG,GADP,IAEIH,SAAS,EACTC,MAAOG,EAAOhD,QAAQ6C,QAE9B,IAAK,sBACD,OAAO,2BACAE,GADP,IAEIH,SAAS,IAEjB,IAAK,sBACD,OAAO,2BACAG,GADP,IAEI0C,SAAUzC,EAAOhD,QAAQyF,SACzB7C,SAAS,IAEjB,IAAK,6BACD,OAAO,2BACAG,GADP,IAEIH,SAAS,IAEjB,IAAK,6BACD,OAAO,2BACAG,GADP,IAEI0C,SAAUzC,EAAOhD,QAAQyF,SACzB7C,SAAS,IAEjB,IAAK,0BACD,OAAO,2BACAG,GADP,IAEIH,SAAS,IAEjB,IAAK,0BACD,IAAIoJ,EAAU,YAAOjJ,EAAM0C,UAE3B,OADAuG,EAAWC,QAAQjJ,EAAOhD,QAAQU,SAC3B,2BACAqC,GADP,IAEI0C,SAAUuG,EACVpJ,SAAS,IAEjB,IAAK,yBACD,OAAO,2BACAD,GADP,IAEIE,MAAOG,EAAOhD,QAAQ6C,QAE9B,IAAK,yBACD,OAAO,2BACAE,GADP,IAEIH,SAAS,IAEjB,IAAK,yBACD,MAAiHI,EAAOhD,QAAQU,QAAxHwL,EAAR,EAAQA,cAAe1G,EAAvB,EAAuBA,SAAU2G,EAAjC,EAAiCA,KAAMxL,EAAvC,EAAuCA,IAAKyL,EAA5C,EAA4CA,KAAMf,EAAlD,EAAkDA,MAAO1G,EAAzD,EAAyDA,SAAU0H,EAAnE,EAAmEA,YAAaC,EAAhF,EAAgFA,KAAMC,EAAtF,EAAsFA,OAAQC,EAA9F,EAA8FA,MAAOC,EAArG,EAAqGA,OACjGC,EAAY,YAAO3J,EAAM0C,UACvB/D,EAAQgL,EAAanB,WAAU,SAAAoB,GAAC,OAAIA,EAAEhM,MAAQA,KAEpD,OADA+L,EAAahL,GAAb,2BAA2BgL,EAAahL,IAAxC,IAAgDyK,OAAM3G,WAAU0G,gBAAeE,OAAMf,QAAO1G,WAAU0H,cAAaC,OAAMC,SAAQC,QAAOC,WACjI,2BACA1J,GADP,IAEI0C,SAAUiH,EACV9J,SAAS,IAEjB,IAAK,yBACD,OAAO,2BACAG,GADP,IAEIH,SAAS,IAEjB,IAAK,yBACD,OAAO,2BACAG,GADP,IAEI0C,SAAU1C,EAAM0C,SAASoG,QAAO,SAAAnL,GAAO,OAAIA,EAAQC,MAAQqC,EAAOhD,QAAQW,OAC1EiC,SAAS,IAEjB,QACI,OAAOD,I,OC1FNwF,EAAiBjF,0BAWf0J,IATgB,SAACxJ,GAC5B,MAAmCC,qBAAW0I,EAAgBpJ,GAA9D,mBAAOjC,EAAP,KAAgB0E,EAAhB,KACA,OACI,cAAC+C,EAAe3E,SAAhB,CAAyBC,MAAO,CAAE/C,UAAS0E,mBAA3C,SACKhC,EAAMM,a,2GCTNf,EAAe,CACxB4C,WAAY,GACZ3C,SAAS,EACTC,MAAO,MAGLgK,EAAoB,SAApBA,EAAqBC,EAAUvH,EAAYC,GAC7C,IAAQ7E,EAAoB6E,EAApB7E,IAAKwL,EAAe3G,EAAf2G,KAAMC,EAAS5G,EAAT4G,KACnB,QAAgBW,GAAZD,EAEA,MAAM,GAAN,mBACOvH,GADP,CAEI,CACI5E,MAAKwL,OAAMC,OAAM1I,SAAU,MAIvC,IAX0D,EAWtDsJ,EAAe,GAXuC,cAYzCzH,GAZyC,IAY1D,2BAA6B,CAAC,IAArB0H,EAAoB,QACzB,GAAIA,EAAKtM,MAAQmM,EAAU,CAEvB,IAAMI,EAAU,CAAEvM,MAAKwL,OAAMC,OAAMU,WAAUpJ,SAAU,IACvDsJ,EAAa1B,KAAb,2BACO2B,GADP,IAEIvJ,SAAUuJ,EAAKvJ,SAASkB,OAAS,EAAvB,sBAA+BqI,EAAKvJ,UAApC,CAA8CwJ,IAAW,CAACA,WAGxEF,EAAa1B,KAAb,2BACO2B,GADP,IAEIvJ,SAAUuJ,EAAKvJ,SACTmJ,EAAkBC,EAAUG,EAAKvJ,SAAU8B,GAC3C,OAzBwC,8BA6B1D,OAAOwH,GAGLG,EAAiB,SAAjBA,EAAkBC,EAAeC,GAAoB,IAAD,gBACrCD,GADqC,IACtD,2BAAgC,CAAC,IAAxBH,EAAuB,QAC5B,GAAIA,EAAKtM,MAAQ0M,EAAe1M,IAI5B,OAHAsM,EAAKd,KAAOkB,EAAelB,KAC3Bc,EAAKb,KAAOiB,EAAejB,KAC3Ba,EAAKH,SAAWO,EAAeP,SACxBM,EAEHH,EAAKvJ,SAASkB,OAAS,GACvBuI,EAAeF,EAAKvJ,SAAU2J,IATY,8BAatD,OAAOD,GAGLE,EAAiB,SAAjBA,EAAkBF,EAAe1K,GAAQ,IAAD,gBACzB0K,GADyB,IAC1C,2BAAgC,CAAC,IAAxBH,EAAuB,QAC5B,GAAIA,EAAKtM,MAAQ+B,EAEb,OADgB0K,EAAcvB,QAAO,SAAAL,GAAC,OAAIA,EAAE7K,MAAQ+B,KAGpD,GAAIuK,EAAKvJ,SAASkB,OAAS,EAAG,CAC1B,IAAM2I,EAAKD,EAAeL,EAAKvJ,SAAUhB,GACzCuK,EAAKvJ,SAAW6J,IARc,8BAY1C,OAAOH,GA0FII,EAvFS,SAACzK,EAAOC,GAE5B,OADA9C,QAAQC,IAAI6C,GACJA,EAAO5B,MACX,IAAK,2BACD,OAAO,2BACA2B,GADP,IAEIH,SAAS,IAEjB,IAAK,2BACD,OAAO,2BACAG,GADP,IAEIwC,WAAYvC,EAAOhD,QAAQuF,WAC3B3C,SAAS,IAEjB,IAAK,0BACD,OAAO,2BACAG,GADP,IAEIH,SAAS,EACTC,MAAOG,EAAOhD,QAAQ6C,QAE9B,IAAK,2BACD,OAAO,2BACAE,GADP,IAEIH,SAAS,IAEjB,IAAK,2BACD,IAAQ4C,EAAaxC,EAAOhD,QAApBwF,SACFiI,EAAcZ,EAChBrH,EAASsH,SACT/J,EAAMwC,WACNC,GAEJ,OAAO,2BACAzC,GADP,IAEIwC,WAAYkI,EACZ7K,SAAS,IAEjB,IAAK,0BACD,OAAO,2BACAG,GADP,IAEIF,MAAOG,EAAOhD,QAAQ6C,QAE9B,IAAK,0BACD,OAAO,2BACAE,GADP,IAEIH,SAAS,IAEjB,IAAK,0BACD,IAAM8K,EAAoBP,EACtBpK,EAAMwC,WACNvC,EAAOhD,QAAQwF,UAEnB,OAAO,2BACAzC,GADP,IAEIwC,WAAYmI,EACZ9K,SAAS,IAEjB,IAAK,yBACD,OAAO,2BACAG,GADP,IAEIF,MAAOG,EAAOhD,QAAQ6C,QAE9B,IAAK,0BACD,OAAO,2BACAE,GADP,IAEIH,SAAS,IAEjB,IAAK,0BACD,IAAM+K,EAAoBL,EACtBvK,EAAMwC,WACNvC,EAAOhD,QAAQW,KACnB,OAAO,2BACAoC,GADP,IAEIwC,WAAYoI,EACZ/K,SAAS,IAEjB,IAAK,yBACD,OAAO,2BACAG,GADP,IAEIF,MAAOG,EAAOhD,QAAQ6C,MACtBD,SAAS,IAEjB,QACI,OAAOD,I,OCrJNkF,EAAkB3E,0BAWhB0K,IATiB,SAACxK,GAC7B,MAAqCC,qBAAWmK,EAAiB7K,GAAjE,mBAAO6C,EAAP,KAAiBL,EAAjB,KACA,OACI,cAAC0C,EAAgBrE,SAAjB,CAA0BC,MAAO,CAAE+B,WAAUL,oBAA7C,SACK/B,EAAMM,a,4OCPN8E,EAAO,uCAAG,WAAOrH,GAAP,iBAAAlB,EAAA,sEAIfkB,EAAS,CAAEC,KAAM,qBACbR,EAAS,CACTC,OAAQ,MACRC,IAAK,iBAPM,SASGE,YAAMJ,GATT,OASTK,EATS,OAUff,QAAQC,IAAI,aAAcc,EAAIF,MACX,MAAfE,EAAIsB,QACJpB,EAAS,CAAEC,KAAM,mBAAoBpB,QAAS,CAAEkL,UAAWjK,EAAIF,KAAK8M,QAAQ3C,aAZjE,kDAcfhL,QAAQC,IAAR,MAde,0DAAH,sDAkBP2N,EAAS,uCAAG,WAAO3M,EAAUnB,GAAjB,iBAAAC,EAAA,yDACrBC,QAAQC,IAAI,iBAAkBH,GADT,SAGjBmB,EAAS,CAAEC,KAAM,wBAEL,MADC+C,aAAaC,QAAQ,QAJjB,wBAMTxD,EAAS,CACTC,OAAQ,OACRC,IAAK,sBACLC,KAAM,CAAEmK,UAAWlL,EAAQoL,WATlB,SAWKpK,YAAMJ,GAXX,OAWPK,EAXO,OAYbf,QAAQC,IAAIc,GAZC,QAcjBE,EAAS,CACLC,KAAM,sBACNpB,QAAS,CACLoL,SAAUpL,EAAQoL,YAjBT,kDAqBjBlL,QAAQC,IAAR,MArBiB,0DAAH,wDAyBT4N,EAAU,uCAAG,WAAO5M,EAAUnB,GAAjB,iBAAAC,EAAA,yDACtBC,QAAQC,IAAI,iBAAkBH,GADR,SAGlBmB,EAAS,CAAEC,KAAM,6BAEL,MADC+C,aAAaC,QAAQ,QAJhB,wBAMVxD,EAAS,CACTC,OAAQ,OACRC,IAAK,sBACLC,KAAM,CACFmK,UACA,CACIG,MAAOrL,EAAQoL,SAASQ,YACxBlL,QAASV,EAAQoL,SAASM,cAC1B/G,SAAU3E,EAAQoL,SAASO,kBAdzB,SAkBI3K,YAAMJ,GAlBV,OAkBRK,EAlBQ,OAmBdf,QAAQC,IAAIc,GAnBE,QAqBlBE,EAAS,CACLC,KAAM,2BACNpB,QAAS,CACLoL,SAAUpL,EAAQoL,YAxBR,4GAAH,wDAgCV4C,EAAc,uCAAG,WAAO7M,EAAUnB,GAAjB,iBAAAC,EAAA,kEAEtBkB,EAAS,CAAEC,KAAM,6BAEL,MADC+C,aAAaC,QAAQ,QAHZ,uBAKdxD,EAAS,CACTC,OAAQ,SACRC,IAAK,aAAed,EAAQW,KAPd,SASAK,YAAMJ,GATN,OASZK,EATY,OAUlBf,QAAQC,IAAI,aAAcc,GAVR,OAYtBE,EAAS,CACLC,KAAM,2BACNpB,QAAS,CACLW,IAAKX,EAAQW,OAfC,kDAmBtBT,QAAQC,IAAR,MAnBsB,0DAAH,wDAuBd8N,EAAS,uCAAG,WAAO9M,GAAP,iBAAAlB,EAAA,kEAEjBkB,EAAS,CAAEC,KAAM,uBAEL,MADC+C,aAAaC,QAAQ,QAHjB,uBAKTxD,EAAS,CACTC,OAAQ,SACRC,IAAK,qBAPI,SASKE,YAAMJ,GATX,OASPK,EATO,OAUbf,QAAQC,IAAI,aAAcc,GAVb,OAYjBE,EAAS,CACLC,KAAM,uBAbO,kDAgBjBlB,QAAQC,IAAR,MAhBiB,0DAAH,uD,4FCjGTwC,EAAe,CACxB0F,iBAAiB,EACjBsC,YALOxG,aAAaC,QAAQ,UAAYJ,KAAKC,MAAME,aAAaC,QAAQ,WAAa,GAMrFL,MALQI,aAAaC,QAAQ,WAAaJ,KAAKC,MAAME,aAAaC,QAAQ,YAAc,GAMxFxB,SAAS,EACTC,MAAO,KACP+H,QAAS,MA8DEsD,EA3DK,SAACnL,EAAOC,GAExB,OADA9C,QAAQC,IAAI,WAAY6C,GAChBA,EAAO5B,MACX,IAAK,gBACD,OAAO,2BACA2B,GADP,IAEIsF,iBAAiB,EACjBzF,SAAS,IAEjB,IAAK,gBACD,OAAO,2BACAG,GADP,IAEIsF,iBAAiB,EACjBsC,YAAa3H,EAAOhD,QAAQ4H,KAC5B7D,MAAOf,EAAOhD,QAAQ+D,MACtBnB,SAAS,EACTC,MAAO,KACP+H,QAAS,OAEjB,IAAK,eACD,OAAO,2BACA7H,GADP,IAEIsF,iBAAiB,EACjBzF,SAAS,EACTC,MAAOG,EAAOH,MAAMzB,KACpBwJ,QAAS5H,EAAOH,MAAMiI,MAE9B,IAAK,SACD,OAAO,2BACA/H,GADP,IAEIsF,iBAAiB,EACjBsC,YAAa,GACb5G,MAAO,KAEf,IAAK,mBACD,OAAO,2BACAhB,GADP,IAEIH,SAAS,IAEjB,IAAK,mBACD,OAAO,2BACAG,GADP,IAEIF,MAAO,KACP+H,QAAS5H,EAAOhD,QAChB4C,SAAS,IAEjB,IAAK,kBACD,OAAO,2BACAG,GADP,IAEIF,MAAOG,EAAOhD,QAAQ6C,MAAMzB,KAC5BwJ,QAAS5H,EAAOhD,QAAQ6C,MAAMiI,IAC9BlI,SAAS,IAEjB,QACI,OAAOG,I,OC/DNyE,EAActE,0BAYZiL,IAVa,SAAC/K,GACzB,MAA2BC,qBAAW6K,EAAavL,GAAnD,mBAAO8E,EAAP,KAAcC,EAAd,KAEA,OACI,cAACF,EAAYhE,SAAb,CAAsBC,MAAO,CAAEgE,QAAOC,aAAtC,SACKtE,EAAMM,a,4FCVNf,EAAe,CACxBZ,OAAQ,GACRa,SAAS,EACTC,MAAO,MAuCIuL,EApCW,SAACrL,EAAOC,GAC9B9C,QAAQC,IAAI,uBAAwB6C,GACpC,IACIqL,EADEC,EAAavL,EAAMhB,OAEzB,OAAQiB,EAAO5B,MACX,IAAK,wBACD,OAAO,2BACA2B,GADP,IAEIH,SAAS,IAEjB,IAAK,wBACD,OAAO,2BACAG,GADP,IAEIhB,OAAQiB,EAAOhD,QAAQ+B,OACvBa,SAAS,IAEjB,IAAK,uBACD,OAAO,2BACAG,GADP,IAEIH,SAAS,IAEjB,IAAK,uBACD,IAAQtB,EAAU0B,EAAOhD,QAAjBsB,MAIR,OAHA+M,EAAWC,EAAWhO,KAAI,SAAAmB,GACtB,OAAOA,EAAGd,KAAOW,EAAMX,IAAMW,EAAQG,KAElC,2BACAsB,GADP,IAEIhB,OAAQsM,EACRzL,SAAS,IAEjB,QACI,OAAOD,I,OCnCNoF,EAAoB7E,0BAWlBqL,IATmB,SAACnL,GAC/B,MAAyCC,qBAAW+K,EAAmBzL,GAAvE,mBAAO6L,EAAP,KAAmB1G,EAAnB,KACA,OACI,cAACC,EAAkBvE,SAAnB,CAA4BC,MAAO,CAAE+K,aAAY1G,sBAAjD,SACK1E,EAAMM,a,gCCTnB,kCAAO,IAAMc,EAAM,0B,+BCAnB,6BAGMT,EAAQC,KAAKC,MAAMC,OAAOC,aAAaC,QAAQ,UACrDlE,QAAQC,IAAI4D,GAEZ,IAAMM,EAAerD,IAAMsD,OAAO,CAChCC,QAASC,MAGIH,O,4FCVF1B,EAAe,CACxBiG,MAAM,EACNgC,QAAS,GACTxJ,KAAM,IAsBKqN,EAnBS,SAAC1L,EAAOC,GAC5B,OAAQA,EAAO5B,MACX,IAAK,WACD,OAAO,2BACA2B,GADP,IAEI6F,MAAM,EACNgC,QAAS5H,EAAOhD,QAAQ8K,IACxB1J,KAAM4B,EAAOhD,QAAQoB,OAE7B,IAAK,YACD,OAAO,2BACA2B,GADP,IAEI6F,MAAM,IAEd,QACI,MAAM,IAAI8F,MAAM,qB,OClBftE,EAAkBlH,0BAWhByL,IATiB,SAACvL,GAC7B,MAA6CC,qBAAWoL,EAAiB9L,GAAzE,mBAAOiM,EAAP,KAAqBC,EAArB,KACA,OACI,cAACzE,EAAgB5G,SAAjB,CAA0BC,MAAO,CAAEmL,eAAcC,wBAAjD,SACKzL,EAAMM,a,4aCNN6E,EAAa,uCAAG,WAAOpH,GAAP,mBAAAlB,EAAA,6DACzBkB,EAAS,CAAEC,KAAM,4BACbR,EAAS,CACTC,OAAQ,MACRC,IAAK,oBAJgB,SAMPE,YAAMJ,GANC,OAMnBK,EANmB,OAOzBf,QAAQC,IAAIc,GAEO,MAAfA,EAAIsB,QACA8C,EADgB,YACFpE,EAAIF,KAAK+N,YAC3B7N,EAAIF,KAAK+N,WAAWxO,KAAI,SAACmB,EAAIC,GACzB2D,EAAQ3D,GAAO4D,WAAab,EAAQhD,EAAGiD,YAE3CvD,EAAS,CACLC,KAAM,0BACNpB,QAAS,CACLyF,SAAUJ,MAIlBlE,EAAS,CACLC,KAAM,yBACNpB,QAAS,CACL6C,MAAO5B,EAAIF,KAAK8B,SAxBH,2CAAH,sDA8BbkM,EAAgB,uCAAG,8BAAA9O,EAAA,+EAENe,IAAMY,IAAI,oBAFJ,UAGN,MADZX,EAFkB,QAGhBsB,OAHgB,uBAIhB8C,EAJgB,YAIFpE,EAAIF,KAAK+N,YAC3B7N,EAAIF,KAAK+N,WAAWxO,KAAI,SAACmB,EAAIC,GACzB2D,EAAQ3D,GAAO4D,WAAab,EAAQhD,EAAGiD,YANvB,kBAQbW,EAAQ2J,MAAM,EAAG,IARJ,+DAWlB,IAAIN,MAAJ,MAXkB,0DAAH,qDAehBO,EAAkB,uCAAG,8BAAAhP,EAAA,+EAERe,IAAMY,IAAI,gCAFF,UAGR,MADZX,EAFoB,QAGlBsB,OAHkB,uBAIlB8C,EAJkB,YAIJpE,EAAIF,KAAK+N,YAC3B7N,EAAIF,KAAK+N,WAAWxO,KAAI,SAACmB,EAAIC,GACzB2D,EAAQ3D,GAAO4D,WAAab,EAAQhD,EAAGiD,YANrB,kBAQfW,EAAQ2J,MAAM,EAAG,IARF,+DAWpB,IAAIN,MAAJ,MAXoB,0DAAH,qDAelBQ,EAAgB,uCAAG,WAAOlP,GAAP,mBAAAC,EAAA,+EAENe,IAAMY,IAAN,oCAAuC5B,EAAQoM,OAFzC,UAElBnL,EAFkB,OAGxBf,QAAQC,IAAIc,GACM,KAAdA,EAAIsB,OAJgB,wBAKhB8C,EALgB,YAKFpE,EAAIF,KAAK+N,YAC3B7N,EAAIF,KAAK+N,WAAWxO,KAAI,SAACmB,EAAIC,GACzB2D,EAAQ3D,GAAO4D,WAAab,EAAQhD,EAAGiD,YAErCe,EAAWxE,EAAIF,KAAK+N,WAAWjD,QAAO,SAAAc,GAAC,OAAIA,EAAEhM,KAAOX,EAAQ0C,MAT9C,kBAUb+C,GAVa,gEAalB,IAAIiJ,MAAJ,MAbkB,0DAAH,sDAiBhBS,EAAU,uCAAG,WAAOhO,EAAUnB,GAAjB,yBAAAC,EAAA,6DAEtBC,QAAQC,IAAI,YAAaH,GACrBoP,EAAY,GAChBpP,EAAQoP,UAAUC,SAAQ,SAAA5N,GACtB,IAAK,IAAI6N,KAAO7N,EACG,MAAXA,EAAG6N,IACHF,EAAU9D,KAAK7J,MAIvB8N,EAAc,GACdH,EAAUxK,OAAS,GACnBwK,EAAUC,SAAQ,SAAA5N,GACd,IAAK,IAAI6N,KAAO7N,EACZ,GAAW,SAAP6N,EAAgB,CAChB,OAAQ7N,EAAG6N,IACP,IAAK,MACD7N,EAAG6N,GAAO,mBACV,MACJ,IAAK,OACD7N,EAAG6N,GAAO,oCACV,MACJ,IAAK,OACD7N,EAAG6N,GAAO,oCACV,MACJ,IAAK,QACD7N,EAAG6N,GAAO,qCACV,MACJ,IAAK,OACD7N,EAAG6N,GAAO,oBAKlBC,GAAW,UAAO9N,EAAG6N,GAAV,UAEXC,GAAW,UAAOD,EAAP,YAAc7N,EAAG6N,GAAjB,QAKrBE,EAAQD,EAAYP,MAAM,EAAGO,EAAY3K,OAAS,GACxD1E,QAAQC,IAAIqP,GA3CU,SA6ClBrO,EAAS,CAAEC,KAAM,wBACbR,EAAS,CACTC,OAAQ,MACRC,IAAK,oBAAsB0O,GAhDb,UAkDAxO,YAAMJ,GAlDN,QAkDZK,EAlDY,OAoDdoE,EApDc,YAoDApE,EAAIF,KAAK+N,YAC3B7N,EAAIF,KAAK+N,WAAWxO,KAAI,SAACmB,EAAIC,GACzB2D,EAAQ3D,GAAO4D,WAAab,EAAQhD,EAAGiD,YAGxB,MAAfzD,EAAIsB,QACJpB,EAAS,CACLC,KAAM,sBACNpB,QAAS,CAAEyF,SAAUJ,KA5DX,kDAgElBnF,QAAQC,IAAR,MAhEkB,0DAAH,wDAoEjBsE,EAAU,SAACC,GACb,IAAMC,EAAWD,EAAQE,OAGzB,MAAO,CAAEC,KAFGH,EAAQI,QAAO,SAAC7E,EAAG8E,GAAJ,OAAUC,OAAO/E,GAAK+E,OAAOD,EAAEE,UAAS,GAC/CN,GAAa,EAClBA,aAGN8K,EAAgB,uCAAG,WAAOzP,GAAP,mBAAAC,EAAA,sEAEpBW,EAAS,CACTC,OAAQ,MACRC,IAAK,gBAAkBd,GAJH,SAMNgB,YAAMJ,GANA,UAQL,OAFbK,EANkB,QAQhBsB,OARgB,wBASpBrC,QAAQC,IAAIc,IACRoE,EAVgB,eAUDpE,EAAIF,KAAKL,UACpB4E,WAAab,EAAQY,EAAQX,SAXjB,kBAYbW,GAZa,0DAexBnF,QAAQC,IAAR,MAfwB,0DAAH,sDAoBhBuP,EAAU,uCAAG,WAAOvO,EAAUnB,EAAS4I,GAA1B,mBAAA3I,EAAA,6DAClBc,EAAO,GACXf,EAAQqP,SAAQ,SAAC5L,EAAO6L,GACpBvO,EAAKuO,GAAO7L,KAHM,SAMlBtC,EAAS,CAAEC,KAAM,4BACbR,EAAS,CACTC,OAAQ,OACRC,IAAK,mBACLC,KAAMA,GAVQ,SAYAY,YAAOf,GAZP,OAYZK,EAZY,OAalBf,QAAQC,IAAI,QAASc,GACF,MAAfA,EAAIsB,SACJpB,EAAS,CACLC,KAAM,0BACNpB,QAAS,CAAEU,QAASO,EAAIF,KAAKL,WAEjCkI,EAAK,CACDxH,KAAM,WACNpB,QAAS,CACL8K,IAAK,iCACL1J,KAAM,cAvBA,kDA4BlBD,EAAS,CACLC,KAAM,yBACNpB,QAAS,CACL6C,MAAO,KAAML,SAASzB,QAG9B6H,EAAK,CACDxH,KAAM,WACNpB,QAAS,CACL8K,IAAK,mCACL1J,KAAM,WAtCI,0DAAH,0DA4CVuO,EAAa,uCAAG,WAAOxO,EAAUnB,EAAS4I,GAA1B,mBAAA3I,EAAA,6DACrBc,EAAO,GACXf,EAAQqP,SAAQ,SAAC5L,EAAO6L,GACpBvO,EAAKuO,GAAO7L,KAHS,SAMrBtC,EAAS,CAAGC,KAAM,2BACdR,EAAS,CACTC,OAAQ,MACRC,IAAK,gBAAkBC,EAAKJ,IAC5BI,KAAMA,GAVW,SAYHY,YAAOf,GAZJ,OAaF,OADbK,EAZe,QAabsB,SACJpB,EAAS,CACLC,KAAM,yBACNpB,QAAS,CAAEU,QAASO,EAAIF,KAAKL,WAEjCkI,EAAK,CACDxH,KAAM,WACNpB,QAAS,CACL8K,IAAK,iCACL1J,KAAM,cAtBG,kDA2BrBlB,QAAQC,IAAR,MACAyI,EAAK,CACDxH,KAAM,WACNpB,QAAS,CACL8K,IAAK,mCACL1J,KAAM,WAhCO,0DAAH,0DAuCbwO,EAAa,uCAAG,WAAOzO,EAAUnB,EAAS4I,GAA1B,qBAAA3I,EAAA,sEAEjBW,EAAS,CACTC,OAAQ,SACRC,IAAK,gBAAkBd,EAAQW,KAEnCQ,EAAS,CAAGC,KAAM,2BANG,SAOHO,YAAOf,GAPJ,UAOfK,EAPe,OAQrBf,QAAQC,IAAIc,GACO,MAAfA,EAAIsB,OATa,wBAUXsN,EAAc,GACpB7P,EAAQ8P,MAAMxP,KAAI,SAAAyP,GACdF,EAAYvE,KAAKyE,EAAIC,cAZR,UAcMrO,IAAOsO,KAAK,cAAe,CAAED,UAAWH,IAd9C,QAcXK,EAdW,OAejBhQ,QAAQC,IAAI+P,GACZ/O,EAAS,CACLC,KAAM,yBACNpB,QAAS,CAAEW,IAAKM,EAAIF,KAAKA,KAAKJ,OAElCiI,EAAK,CACDxH,KAAM,WACNpB,QAAS,CACL8K,IAAK,iCACL1J,KAAM,aAxBG,0DA8BrBlB,QAAQC,IAAR,MACAyI,EAAK,CACDxH,KAAM,WACNpB,QAAS,CACL8K,IAAK,mCACL1J,KAAM,WAnCO,0DAAH,0DAiDb+O,EAAa,uCAAG,WAAOnQ,GAAP,iBAAAC,EAAA,sEAEjBW,EAAS,CACTC,OAAQ,MACRC,IAAK,gCAAkCd,EAAQsP,IAAIc,eAJlC,SAMHzO,YAAOf,GANJ,cAMfK,EANe,yBAOdA,EAAIF,KAAK+N,YAPK,gCASrB5O,QAAQC,IAAR,MATqB,yDAAH,uD,2MChTbkQ,EAAU,uCAAG,WAAOlP,EAAUnB,GAAjB,uBAAAC,EAAA,sEAElBkB,EAAS,CAAEC,KAAM,kBACbR,EAAS,CACTC,OAAQ,OACRC,IAAK,eACLC,KAAMf,GANQ,SAQAgB,YAAMJ,GARN,OAQZK,EARY,OASlBf,QAAQC,IAAI,SAAUc,GACH,MAAfA,EAAIsB,SAAiB,EACGtB,EAAIF,KAApBgD,EADY,EACZA,MAAO6D,EADK,EACLA,KACf1H,QAAQC,IAAIc,EAAIF,MAChBI,EAAS,CAAEC,KAAM,gBAAiBpB,QAAS,CAAE+D,QAAO6D,UACpDzD,aAAamM,QAAQ,UAAWtM,KAAKuM,UAAUxM,IAC/CI,aAAamM,QAAQ,SAAUtM,KAAKuM,UAAU3I,IAC9C5G,IAAMwP,SAASC,QAAQC,OAAvB,cAAiD3M,GAhBnC,kDAmBlB5C,EAAS,CAAEC,KAAM,eAAgByB,MAAO,KAAML,SAASzB,OAnBrC,0DAAH,wDAuBV4P,EAAa,uCAAG,WAAOxP,EAAUnB,GAAjB,iBAAAC,EAAA,6DACzBD,EAAQ4Q,KAAO,QADU,SAGrBzP,EAAS,CAAEC,KAAM,qBACbR,EAAS,CACTC,OAAQ,OACRC,IAAK,kBACLC,KAAMf,GAPW,SASHgB,YAAMJ,GATH,OASfK,EATe,OAUrBf,QAAQC,IAAIc,GACO,MAAfA,EAAIsB,QACJpB,EAAS,CACLC,KAAM,mBACNpB,QAASiB,EAAIF,KAAK+J,MAdL,kDAkBrB3J,EAAS,CAAEC,KAAM,kBAAmBpB,QAAS,CAAE6C,MAAO,KAAML,SAASzB,QAlBhD,0DAAH,wDAsBbqH,EAAe,SAACjH,GACzB,IACI,IAAM4C,EAAQC,KAAKC,MAAME,aAAaC,QAAQ,YAC9C,GAAIL,EAEA5C,EAAS,CAAEC,KAAM,gBAAiBpB,QAAS,CAAE+D,QAAO6D,KADvC5D,KAAKC,MAAME,aAAaC,QAAQ,cAE7CpD,IAAMwP,SAASC,QAAQC,OAAvB,cAAiD3M,EAIvD,MAAOlB,GACL1B,EAAS,CAAEC,KAAM,eAAgByB,MAAOA,EAAML,SAASzB,SAIlD8P,EAAW,uCAAG,WAAO1P,EAAUgE,EAAkBC,GAAnC,SAAAnF,EAAA,sDACvBkB,EAAS,CAAEC,KAAM,WACjB+D,EAAiB,CAAE/D,KAAM,cACzBgE,EAAgB,CAAEhE,KAAM,cACxB+C,aAAa2M,WAAW,WACxB3M,aAAa2M,WAAW,UALD,2CAAH,2D,8QC7DXC,EAAS,uCAAG,WAAO5P,EAAUnB,EAAS4I,GAA1B,uBAAA3I,EAAA,sEAEjBkB,EAAS,CAAEC,KAAM,kBACbR,EAAS,CACTC,OAAQ,OACRC,IAAK,cACLC,KAAMf,GANO,SAQCgB,YAAMJ,GARP,OAQXK,EARW,OASjBf,QAAQC,IAAI,SAAUc,GACH,MAAfA,EAAIsB,SAAiB,EACGtB,EAAIF,KAApBgD,EADY,EACZA,MAAO6D,EADK,EACLA,KACf1H,QAAQC,IAAIc,EAAIF,MAChBI,EAAS,CAAEC,KAAM,gBAAiBpB,QAAS,CAAE+D,QAAO6D,UACpDgB,EAAK,CACDxH,KAAM,WACNpB,QAAS,CACL8K,IAAK,uCACL1J,KAAM,aAGd+C,aAAamM,QAAQ,QAAStM,KAAKuM,UAAUxM,IAC7CI,aAAamM,QAAQ,OAAQtM,KAAKuM,UAAU3I,IAC5C5G,IAAMwP,SAASC,QAAQC,OAAvB,cAAiD3M,GAvBpC,kDA0BjB5C,EAAS,CAAEC,KAAM,eAAgByB,MAAO,KAAML,SAASzB,OA1BtC,0DAAH,0DA8BTiQ,EAAY,uCAAG,WAAO7P,EAAUnB,EAAS4I,EAAMjD,GAAhC,iBAAA1F,EAAA,6DACxBD,EAAQ4Q,KAAO,OADS,SAGpBzP,EAAS,CAAEC,KAAM,qBACbR,EAAS,CACTC,OAAQ,OACRC,IAAK,iBACLC,KAAMf,GAPU,SASFgB,YAAMJ,GATJ,OASdK,EATc,OAUpBf,QAAQC,IAAIc,GACO,MAAfA,EAAIsB,SACJpB,EAAS,CACLC,KAAM,mBACNpB,QAASiB,EAAIF,KAAK+J,MAEtBlC,EAAK,CACDxH,KAAM,WACNpB,QAAS,CACL8K,IAAK,yCACL1J,KAAM,aAGduE,EAAQ2F,KAAK,MAvBG,kDA0BpBnK,EAAS,CAAEC,KAAM,kBAAmBpB,QAAS,CAAE6C,MAAO,KAAML,SAASzB,QA1BjD,0DAAH,4DAqCZuH,EAAc,SAACnH,GACxB,IACI,IAAM4C,EAAQC,KAAKC,MAAME,aAAaC,QAAQ,UAC9C,GAAIL,EAEA5C,EAAS,CAAEC,KAAM,gBAAiBpB,QAAS,CAAE+D,QAAO6D,KADvC5D,KAAKC,MAAME,aAAaC,QAAQ,YAE7CpD,IAAMwP,SAASC,QAAQC,OAAvB,cAAiD3M,OAEjD7D,QAAQC,IAAI,oBAGlB,MAAO0C,GACL1B,EAAS,CAAEC,KAAM,eAAgByB,MAAOA,EAAML,SAASzB,SAIlDkQ,EAAU,uCAAG,WAAO9P,EAAUyH,GAAjB,SAAA3I,EAAA,sDACtBkB,EAAS,CAAEC,KAAM,WACjBwH,EAAK,CACDxH,KAAM,WACNpB,QAAS,CACL8K,IAAK,uCACL1J,KAAM,aAGd+C,aAAa2M,WAAW,SACxB3M,aAAa2M,WAAW,QAVF,2CAAH,wDAaVI,EAAU,uCAAG,WAAOlR,EAAS4I,GAAhB,SAAA3I,EAAA,+EAEZsB,QAAQC,IAAIxB,EAAQ0E,QAAQpE,IAAhB,uCAAoB,WAAOmB,EAAIC,GAAX,eAAAzB,EAAA,sEAChBe,IAAMiP,KAAK,eAAgBxO,GADX,OAC5BR,EAD4B,OAElCf,QAAQC,IAAIc,GAFsB,2CAApB,0DAGdkQ,MAAK,WACLvI,EAAK,CACDxH,KAAM,WACNpB,QAAS,CACL8K,IAAK,kCACL1J,KAAM,gBAVA,sDAelBlB,QAAQC,IAAR,MAfkB,wDAAH,wDAmBViR,EAAc,uCAAG,WAAOpR,EAAS4I,GAAhB,mBAAA3I,EAAA,6DAClBoR,EAA0BrR,EAA1BqR,SAAUC,EAAgBtR,EAAhBsR,YADQ,kBAGJtQ,IAAMqB,IAAI,uBAAwB,CAAEgP,WAAUC,gBAH1C,UAIJ,MADZrQ,EAHgB,QAIdsB,OAJc,yCAKX,CAAEuI,IAAK7J,EAAIF,KAAK+J,MALL,gFAQf,CAAEjI,MAAO,KAAML,SAASzB,KAAK+J,IAAK1J,KAAM,KAAMoB,SAASzB,KAAKK,OAR7C,yDAAH,yD,4FCrHduB,EAAe,CACxBb,QAAS,GACTe,MAAO,KACPD,SAAS,GAgDE2O,EA7CQ,SAACxO,EAAOC,GAE3B,OADA9C,QAAQC,IAAI,mBAAoB6C,GACxBA,EAAO5B,MACX,IAAK,2BACD,OAAO,2BACA2B,GADP,IAEIH,SAAS,IAEjB,IAAK,2BACD,OAAO,2BACAG,GADP,IAEIjB,QAASkB,EAAOhD,QAAQ8B,QAAQA,QAChCc,SAAS,IAEjB,IAAK,2BACD,OAAO,2BACAG,GADP,IAEIH,SAAS,IAEjB,IAAK,2BACD,OAAO,2BACAG,GADP,IAEIjB,QAASkB,EAAOhD,QAAQ8B,QACxBc,SAAS,IAEjB,IAAK,8BACD,OAAO,2BACAG,GADP,IAEIH,SAAS,IAEjB,IAAK,8BACD,OAAO,2BACAG,GADP,IAEIjB,QAASkB,EAAOhD,QAAQ8B,QACxBc,SAAS,IAEjB,IAAK,wBACD,MAAO,CACHD,kB,OCzCH0H,EAAiBnH,0BAWfsO,IATgB,SAACpO,GAC5B,MAAmCC,qBAAWkO,EAAgB5O,GAA9D,mBAAOb,EAAP,KAAgB2P,EAAhB,KACA,OACI,cAACpH,EAAe7G,SAAhB,CAAyBC,MAAO,CAAE3B,UAAS2P,mBAA3C,SACKrO,EAAMM,c","file":"static/js/main.ffd133c0.chunk.js","sourcesContent":["import axios from \"../helper/axios\";\r\nimport aaxios from \"../helper/adminAxios\";\r\n\r\nexport const addOrder = async (payload) => {\r\n    console.log(payload);\r\n    let newItems = payload.items.map(item => {\r\n        let i = { ...item }\r\n        i.productId = item.product._id\r\n        delete i.product\r\n        delete i._id\r\n        return i;\r\n    })\r\n    payload.items = newItems;\r\n    try {\r\n        let config = {\r\n            method: 'POST',\r\n            url: '/api/addOrder',\r\n            data: payload\r\n        }\r\n        const res = await axios(config);\r\n        console.log(res);\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const getOrder = async (dispatch) => {\r\n    try {\r\n        dispatch({ type: \"GET_ORDER_REQUEST\" });\r\n        let config = {\r\n            method: 'GET',\r\n            url: '/api/getOrder/',\r\n        }\r\n        const res = await axios(config);\r\n        const result = [...res.data.order];\r\n        await Promise.all((res.data.order.map(async (el, index) => {\r\n            const res = await aaxios.get('/api/user/address/getbyid/' + el.addressId);\r\n            result[index].address = res.data.address[0]\r\n        })))\r\n        console.log(result);\r\n        dispatch({\r\n            type: \"GET_ORDER_SUCCESS\",\r\n            payload: { orders: result }\r\n        });\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const getAllOrder = async (dispatch) => {\r\n    try {\r\n        dispatch({ type: \"GET_ALL_ORDER_REQUEST\" });\r\n        let config = {\r\n            method: 'GET',\r\n            url: '/api/getAllOrder/',\r\n        }\r\n        const res = await aaxios(config);\r\n        const result = [...res.data.order];\r\n        await Promise.all((res.data.order.map(async (el, index) => {\r\n            const res = await aaxios.get('/api/user/address/getbyid/' + el.addressId);\r\n            result[index].address = res.data.address[0]\r\n        })))\r\n        console.log(result);\r\n        dispatch({\r\n            type: \"GET_ALL_ORDER_SUCCESS\",\r\n            payload: { orders: result }\r\n        });\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const updateOrder = async (dispatch, payload) => {\r\n    console.log(payload);\r\n    const { _id, items, orderStatus } = payload\r\n    const type = orderStatus.find(el => !el.isCompleted).type;\r\n    try {\r\n        dispatch({ type: \"UPDATE_ORDER_REQUEST\" });\r\n        const res = await aaxios.put('/api/updateOrder', { _id, items, type })\r\n        console.log(res);\r\n        const result = {...res.data.order};\r\n        const res1 = await aaxios.get('/api/user/address/getbyid/' + result.addressId);\r\n        result.address = res1.data.address[0]\r\n        if (res.status == 200) {\r\n            dispatch({\r\n                type: \"UPDATE_ORDER_SUCCESS\",\r\n                payload: {\r\n                    order: result\r\n                }\r\n            })\r\n        }\r\n    } catch (error) {\r\n        console.log(error.response.data)\r\n    }\r\n}\r\n\r\nexport const cancelOrder = async (payload, type) => {\r\n    try {\r\n        const res = await axios.put('/api/cancelOrder', { _id: payload.id, type })\r\n        console.log(res);\r\n        if (res.status == 200)\r\n            return res;\r\n    } catch (error) {\r\n        console.log(error.response.data)\r\n    }\r\n}","export const initialState = {\r\n    product: null,\r\n    loading: false,\r\n    error: null\r\n}\r\n\r\nconst ProductDetailReducer = (state, action) => {\r\n    console.log(action);\r\n    switch (action.type) {\r\n        case 'GET_PRODUCT_DETAIL_REQUEST':\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n            }\r\n        case 'GET_PRODUCT_DETAIL_SUCCESS':\r\n            return {\r\n                ...state,\r\n                product: action.payload.product,\r\n                loading: false\r\n            }\r\n        case 'DELETE_PRODUCT_DETAIL_SUCCESS':\r\n            return {\r\n                ...initialState\r\n            }\r\n        default:\r\n            return initialState;\r\n    }\r\n}\r\n\r\nexport default ProductDetailReducer;","import React, { createContext, useReducer, useState } from 'react';\r\nimport ProductDetailReducer, { initialState } from '../reducer/ProductDetailReducer';\r\n\r\nexport const ProductDetailContext = createContext();\r\n\r\nconst ProductDetailContextProvider = (props) => {\r\n    const [productDetail, productDetailDispatch] = useReducer(ProductDetailReducer, initialState)\r\n    return (\r\n        <ProductDetailContext.Provider value={{ productDetail, productDetailDispatch }}>\r\n            {props.children}\r\n        </ProductDetailContext.Provider>\r\n    );\r\n};\r\n\r\nexport default ProductDetailContextProvider;","export const initialState = {\r\n    orders: [],\r\n    loading: false,\r\n    error: null\r\n}\r\n\r\nconst OrderReducer = (state, action) => {\r\n    console.log(\"Order  action: \",action);\r\n    switch (action.type) {\r\n        case 'GET_ORDER_REQUEST':\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case 'GET_ORDER_SUCCESS':\r\n            return {\r\n                ...state,\r\n                orders: action.payload.orders,\r\n                loading: false,\r\n            }\r\n        default:\r\n            return initialState;\r\n    }\r\n}\r\n\r\nexport default OrderReducer;\r\n","import React, { createContext, useReducer } from 'react';\r\nimport OrderReducer, { initialState } from '../reducer/OrderReducer';\r\n\r\nexport const OrderContext = createContext();\r\n\r\nconst OrderContextProvider = (props) => {\r\n    const [order, orderDispatch] = useReducer(OrderReducer, initialState)\r\n    return (\r\n        <OrderContext.Provider value={{ order, orderDispatch }}>\r\n            {props.children}\r\n        </OrderContext.Provider>\r\n    );\r\n};\r\n\r\nexport default OrderContextProvider;","import axios from 'axios';\r\nimport { api } from '../config/urlConfig';\r\n\r\nconst token = JSON.parse(window.localStorage.getItem('a_token'));\r\nconsole.log(token);\r\n\r\nconst axiosIntance = axios.create({\r\n  baseURL: api,\r\n});\r\n\r\nexport default axiosIntance;\r\n","import axios from \"../helper/adminAxios\";\r\n\r\nconst getRate = (ratings) => {\r\n    const quantity = ratings.length;\r\n    const sum = ratings.reduce((a, b) => Number(a) + Number(b.rating), 0);\r\n    const rate = (sum / quantity) || 0\r\n    return { rate, quantity }\r\n}\r\n\r\nexport const getInitialData = async (categoryDispatch, productDispatch) => {\r\n    try {\r\n        categoryDispatch({ type: 'GET_ALL_CATEGORY_REQUEST' });\r\n        productDispatch({ type: 'GET_ALL_PRODUCT_REQUEST' });\r\n        const res = await axios.get('/api/initialData/get')\r\n\r\n        if (res.status === 200) {\r\n\r\n            let newData = [...res.data.product]\r\n            res.data.product.map((el, index) => {\r\n                newData[index].ratingView = getRate(el.ratings)\r\n            })\r\n\r\n            await categoryDispatch({\r\n                type: 'GET_ALL_CATEGORY_SUCCESS',\r\n                payload: {\r\n                    categories: res.data.category\r\n                }\r\n            })\r\n            await productDispatch({\r\n                type: 'GET_ALL_PRODUCT_SUCCESS',\r\n                payload: {\r\n                    products: newData\r\n                }\r\n            })\r\n        } else {\r\n            await categoryDispatch({\r\n                type: 'GET_ALL_CATEGORY_FAILED',\r\n                payload: {\r\n                    error: res.data.error\r\n                }\r\n            })\r\n            await productDispatch({\r\n                type: 'GET_ALL_PRODUCT_FAILED',\r\n                payload: {\r\n                    error: res.data.error\r\n                }\r\n            })\r\n        }\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}","import { useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nfunction ScrollToTop({ history }) {\r\n  useEffect(() => {\r\n    const unlisten = history.listen(() => {\r\n      window.scrollTo(0, 0);\r\n    });\r\n    return () => {\r\n      unlisten();\r\n    }\r\n  }, []);\r\n\r\n  return (null);\r\n}\r\n\r\nexport default withRouter(ScrollToTop);","import { Redirect, Route } from \"react-router-dom\";\r\n\r\nconst PrivateAdminRoute = ({ component: Component, ...rest }) => {\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            component={(props) => {\r\n                const token = localStorage.getItem('a_token');\r\n                return token ? <Component {...props} /> : <Redirect to={\"/admin/login\"} />\r\n            }}\r\n        />\r\n    )\r\n}\r\n\r\nexport default PrivateAdminRoute;","import { Redirect, Route } from \"react-router-dom\";\r\n\r\nconst PrivateAdminRoute = ({ component: Component, ...rest }) => {\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            component={(props) => {\r\n                const token = localStorage.getItem('token');\r\n                return token ? <Component {...props} /> : <Redirect to={\"/login\"} />\r\n            }}\r\n        />\r\n    )\r\n}\r\n\r\nexport default PrivateAdminRoute;","import React, { Fragment } from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport PrivateAdminRoute from '../component/HOC/PrivateAdminRoute';\r\nimport PrivateRoute from '../component/HOC/PrivateRoute';\r\n\r\nconst RouteList = (props) => {\r\n    return (\r\n        <Fragment>\r\n            {props.routes.map(({ component: Component, path, isPrivate, isPrivateAdmin, ...rest }) => {\r\n                if (isPrivateAdmin)\r\n                    return (\r\n                        <PrivateAdminRoute key={path}\r\n                            component={Component}\r\n                            path={path}\r\n                            {...rest}\r\n                        />\r\n                    )\r\n                else if (isPrivate) {\r\n                    return (\r\n                        <PrivateRoute key={path}\r\n                            component={Component}\r\n                            path={path}\r\n                            {...rest}\r\n                        />\r\n                    )\r\n                }\r\n                else\r\n                    return (\r\n                        <Route key={path}\r\n                            component={Component}\r\n                            path={path}\r\n                            {...rest}\r\n                        />\r\n                    )\r\n                {/* <Fragment key={path}>\r\n                        {isPrivate ? (\r\n                            <PrivateRoute\r\n                                component={Component}\r\n                                path={path}\r\n                                {...rest}\r\n                            />\r\n                        ) : (\r\n                            <Route\r\n                                component={Component}\r\n                                path={path}\r\n                                {...rest}\r\n                            />\r\n                        )}\r\n                    </Fragment> */}\r\n            })\r\n            }\r\n        </Fragment>\r\n    )\r\n};\r\n\r\nexport default RouteList;","import { lazy } from \"react\";\r\n\r\nexport const routes = [\r\n    {\r\n        path: '/product',\r\n        exact: false,\r\n        component: lazy(() => import('./Admin/AProduct')),\r\n        isPrivateAdmin: true,\r\n    },\r\n    {\r\n        path: '/category',\r\n        exact: false,\r\n        component: lazy(() => import('./Admin/ACategory')),\r\n        isPrivateAdmin: true,\r\n    },\r\n    {\r\n        path: '/admin/login',\r\n        exact: false,\r\n        component: lazy(() => import('./Admin/ALogin'))\r\n    },\r\n    {\r\n        path: '/admin/register',\r\n        exact: false,\r\n        component: lazy(() => import('./Admin/ARegister'))\r\n    },\r\n    {\r\n        path: '/aorder',\r\n        exact: true,\r\n        component: lazy(() => import('./Admin/AOrder')),\r\n        isPrivateAdmin: true,\r\n    },\r\n    {\r\n        path: '/customer',\r\n        exact: true,\r\n        component: lazy(() => import('./Admin/ACustomer')),\r\n        isPrivateAdmin: true,\r\n    },\r\n    {\r\n        path: '/admin',\r\n        exact: true,\r\n        component: lazy(() => import('./Admin/ADashboard')),\r\n        isPrivateAdmin: true,\r\n    },\r\n    {\r\n        path: '/',\r\n        exact: true,\r\n        component: lazy(() => import('./User/Home')),\r\n    },\r\n    {\r\n        path: '/productdetail/:slug',\r\n        exact: false,\r\n        component: lazy(() => import('./User/Product')),\r\n    },\r\n    {\r\n        path: '/collection/:category',\r\n        exact: true,\r\n        component: lazy(() => import('./User/ProductCollection')),\r\n    },\r\n    {\r\n        path: '/cart',\r\n        exact: true,\r\n        component: lazy(() => import('./User/Cart')),\r\n    },\r\n    {\r\n        path: '/order',\r\n        exact: true,\r\n        component: lazy(() => import('./User/Order')),\r\n        isPrivate: true\r\n    },\r\n    {\r\n        path: '/login',\r\n        exact: true,\r\n        component: lazy(() => import('./User/Login')),\r\n    },\r\n    {\r\n        path: '/register',\r\n        exact: true,\r\n        component: lazy(() => import('./User/Register')),\r\n    },\r\n    {\r\n        path: '/info',\r\n        exact: true,\r\n        component: lazy(() => import('./User/Info')),\r\n        isPrivate: true\r\n    },\r\n    {\r\n        path: '/myorder',\r\n        exact: true,\r\n        component: lazy(() => import('./User/MyOrder')),\r\n        isPrivate: true\r\n    },\r\n]\r\n","import { Backdrop, CircularProgress } from \"@mui/material\";\r\nimport makeStyles from '@mui/styles/makeStyles';\r\nimport React, { Suspense, useContext, useEffect } from \"react\";\r\nimport { BrowserRouter as Router, Redirect, Switch } from \"react-router-dom\";\r\nimport { isAdminLogin } from \"./action/authAction\";\r\nimport { getCart } from \"./action/cartAction\";\r\nimport { getInitialData } from \"./action/initialData\";\r\nimport { getAllOrder } from \"./action/orderAction\";\r\nimport { isUserLogin } from \"./action/userAction\";\r\nimport ScrollToTop from \"./component/HOC/ScrollToTop\";\r\nimport RouteList from \"./config/routesConfig\";\r\nimport { AuthContext } from \"./contextAPI/AuthContext\";\r\nimport { CartContext } from \"./contextAPI/CartContext\";\r\nimport { CategoryContext } from \"./contextAPI/CategoryContext\";\r\nimport { OrderAdminContext } from \"./contextAPI/OrderAdminContext\";\r\nimport { ProductContext } from \"./contextAPI/ProductContext\";\r\nimport { UserContext } from \"./contextAPI/UserContext\";\r\nimport { routes } from \"./pages/routes\";\r\nimport './App.scss'\r\nimport { getAllProduct } from \"./action/productAction\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  backdrop: {\r\n    background: '#fff',\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#fff',\r\n  },\r\n}));\r\n\r\nfunction App() {\r\n  const classes = useStyles();\r\n  const { aUser, aDispatch } = useContext(AuthContext);\r\n  const { user, dispatch } = useContext(UserContext);\r\n  const { categoryDispatch } = useContext(CategoryContext);\r\n  const { orderAdminDispatch } = useContext(OrderAdminContext);\r\n  const { cart, cartDispatch } = useContext(CartContext);\r\n  const { productDispatch } = useContext(ProductContext);\r\n\r\n  useEffect(() => {\r\n    isAdminLogin(aDispatch)\r\n    if (!aUser.isAuthenticated) {\r\n      return <Redirect to=\"/admin/login\" />\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (aUser.isAuthenticated) {\r\n      getInitialData(categoryDispatch, productDispatch);\r\n      getAllOrder(orderAdminDispatch);\r\n    }\r\n  }, [aUser.isAuthenticated])\r\n\r\n  useEffect(() => {\r\n    isUserLogin(dispatch)\r\n    getAllProduct(productDispatch);\r\n    getCart(cartDispatch)\r\n    if (!user.isAuthenticated) {\r\n      return <Redirect to=\"/login\" />\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (user.isAuthenticated) {\r\n      getCart(cartDispatch)\r\n    }\r\n  }, [user])\r\n\r\n  // useEffect(() => {\r\n  //   if (!user.isAuthenticated)\r\n  //     localStorage.setItem(\"cart\", JSON.stringify(cart.cartObj))\r\n  // }, [cart.cartObj])\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <ScrollToTop />\r\n        <Switch>\r\n          <Suspense\r\n            fallback={\r\n              <Backdrop className={classes.backdrop} open={true}>\r\n                <CircularProgress color=\"primary\" />\r\n              </Backdrop>\r\n            }\r\n          >\r\n            <RouteList routes={routes} />\r\n          </Suspense>\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","\r\nimport { createTheme, adaptV4Theme, StyledEngineProvider, ThemeProvider } from '@mui/material/styles';\r\nimport React from 'react';\r\n\r\nconst theme = createTheme(adaptV4Theme({\r\n    palette: {\r\n        primary: {\r\n            main: '#333333',\r\n            dark: '#18181a',\r\n            light: '#424242' //text\r\n        },\r\n        secondary: {\r\n            main: '#fff',\r\n            light: '#fff',\r\n            dark: '#f5f5f5' //background\r\n        },\r\n    },\r\n    typography: {\r\n        h1: {\r\n            fontSize: '2rem'\r\n        },\r\n        h2: {\r\n            fontSize: '1.75rem'\r\n        },\r\n        h3: {\r\n            fontSize: '1.6rem'\r\n        },\r\n        h4: {\r\n            fontSize: '1.25rem'\r\n        },\r\n        h5: {\r\n            fontSize: '1rem'\r\n        },\r\n        h6: {\r\n            fontSize: '0.75rem'\r\n        },\r\n    }\r\n}))\r\n\r\nconst ThemeContextProvider = (props) => {\r\n    return (\r\n        <StyledEngineProvider injectFirst>\r\n            <ThemeProvider theme={theme}>\r\n                {props.children}\r\n            </ThemeProvider>\r\n        </StyledEngineProvider>\r\n    );\r\n};\r\n\r\nexport default ThemeContextProvider;","import React from 'react';\r\nimport AuthContextProvider from './AuthContext';\r\nimport CategoryContextProvider from './CategoryContext';\r\nimport ProductContextProvider from './ProductContext';\r\nimport ThemeContextProvider from './ThemeContext';\r\nimport ProductDetailContextProvider from './ProductDetailContext'\r\nimport CartContextProvider from './CartContext';\r\nimport UserContextProvider from './UserContext';\r\nimport AddressContextProvider from './AddressContext';\r\nimport OrderContextProvider from './OrderContext';\r\nimport OrderAdminContextProvider from './OrderAdminContext';\r\nimport SnackbarContextProvider from './SnackbarContext';\r\n\r\nconst AppContextProvider = (props) => {\r\n    return (\r\n        <ThemeContextProvider>\r\n            <SnackbarContextProvider>\r\n                <AuthContextProvider>\r\n                    <UserContextProvider>\r\n                        <CategoryContextProvider>\r\n                            <ProductContextProvider>\r\n                                <ProductDetailContextProvider>\r\n                                    <CartContextProvider>\r\n                                        <AddressContextProvider>\r\n                                            <OrderContextProvider>\r\n                                                <OrderAdminContextProvider>\r\n                                                    {props.children}\r\n                                                </OrderAdminContextProvider>\r\n                                            </OrderContextProvider>\r\n                                        </AddressContextProvider>\r\n                                    </CartContextProvider>\r\n                                </ProductDetailContextProvider>\r\n                            </ProductContextProvider>\r\n                        </CategoryContextProvider>\r\n                    </UserContextProvider>\r\n                </AuthContextProvider>\r\n            </SnackbarContextProvider>\r\n        </ThemeContextProvider>\r\n    );\r\n};\r\n\r\nexport default AppContextProvider;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport AppContextProvider from './contextAPI';\r\nimport './index.css'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AppContextProvider>\r\n      <App />\r\n    </AppContextProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n","let user = localStorage.getItem('user') ? JSON.parse(localStorage.getItem('user')) : '';\r\nlet token = localStorage.getItem('token') ? JSON.parse(localStorage.getItem('token')) : '';\r\n\r\nexport const initialState = {\r\n    isAuthenticated: false,\r\n    userDetails: user,\r\n    token: token,\r\n    loading: false,\r\n    error: null,\r\n    message: null,\r\n}\r\n\r\nconst UserReducer = (state, action) => {\r\n    console.log(\"Action: \", action);\r\n    switch (action.type) {\r\n        case 'LOGIN_REQUEST':\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n            }\r\n        case 'LOGIN_SUCCESS':\r\n            return {\r\n                ...state,\r\n                isAuthenticated: true,\r\n                userDetails: action.payload.user,\r\n                token: action.payload.token,\r\n                loading: false,\r\n                error: null,\r\n                message: null,\r\n            }\r\n        case 'LOGIN_FAILED':\r\n            return {\r\n                ...state,\r\n                isAuthenticated: false,\r\n                loading: false,\r\n                error: action.error.type,\r\n                message: action.error.msg\r\n            }\r\n        case 'LOGOUT':\r\n            return {\r\n                ...state,\r\n                isAuthenticated: false,\r\n                userDetails: '',\r\n                token: ''\r\n            }\r\n        case 'REGISTER_REQUEST':\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case 'REGISTER_SUCCESS':\r\n            return {\r\n                ...state,\r\n                error: null,\r\n                message: action.payload,\r\n                loading: false,\r\n            }\r\n        case 'REGISTER_FAILED':\r\n            return {\r\n                ...state,\r\n                error: action.payload.error.type ,\r\n                message: action.payload.error.msg,\r\n                loading: false,\r\n            }\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n};\r\n\r\nexport default UserReducer;","import React, { createContext, useReducer } from 'react';\r\nimport UserReducer, { initialState } from '../reducer/UserReducer';\r\n\r\nexport const UserContext = createContext();\r\n\r\nconst UserContextProvider = (props) => {\r\n    const [user, dispatch] = useReducer(UserReducer, initialState);\r\n\r\n    return (\r\n        <UserContext.Provider value={{ user, dispatch }}>\r\n            {props.children}\r\n        </UserContext.Provider>\r\n    );\r\n};\r\n\r\nexport default UserContextProvider;","const cartLS = JSON.parse(localStorage.getItem('cart'));\r\n\r\nexport const initialState = {\r\n    cartObj: cartLS || [],\r\n    loading: false,\r\n    error: null\r\n}\r\n\r\nconst CartReducer = (state, action) => {\r\n    console.log(action);\r\n    switch (action.type) {\r\n        case 'GET_CART_REQUEST':\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case 'GET_CART_SUCCESS':\r\n            return {\r\n                ...state,\r\n                cartObj: action.payload.cartItems,\r\n                loading: false,\r\n            }\r\n        case 'ADD_TO_CART_REQUEST':\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n            }\r\n        case 'ADD_TO_CART_SUCCESS':\r\n            let cartState = [...state.cartObj];\r\n            const { product, quantity, price } = action.payload.cartItem;\r\n            if (cartState.length === 0) {\r\n                cartState.push({ product, quantity, price });\r\n            } else {\r\n                let index = cartState.findIndex(c => c.product._id === product._id);\r\n                if (index > -1) {\r\n                    cartState[index] = {\r\n                        ...cartState[index],\r\n                        quantity: cartState[index].quantity + Number(quantity),\r\n                        price: cartState[index].price + price\r\n                    }\r\n                } else {\r\n                    cartState.push({ product, quantity, price });\r\n                }\r\n            }\r\n            \r\n            return {\r\n                ...state,\r\n                cartObj: cartState,\r\n                loading: false\r\n            }\r\n        case 'UPDATE_CART_ITEM_REQUEST':\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case 'UPDATE_CART_ITEM_SUCCESS':\r\n            const { cartItem } = action.payload;\r\n            let cartStateUpdate = [...state.cartObj];\r\n            let index = cartStateUpdate.findIndex(c => c.product._id === cartItem.productUpdate._id);\r\n            if (index > -1) {\r\n                cartStateUpdate[index] = {\r\n                    ...cartStateUpdate[index],\r\n                    quantity: cartItem.quantityUpdate,\r\n                    price: cartItem.priceUpdate,\r\n                }\r\n            }\r\n            // localStorage.setItem(\"cart\", JSON.stringify(cartStateUpdate));\r\n            return {\r\n                ...state,\r\n                cartObj: cartStateUpdate,\r\n                loading: false,\r\n            }\r\n        case 'REMOVE_CART_ITEM_REQUEST':\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case 'REMOVE_CART_ITEM_SUCCESS':\r\n            // localStorage.setItem(\"cart\", JSON.stringify(state.cartObj.filter(item => item.product._id !== action.payload._id)));\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                cartObj: state.cartObj.filter(item => item.product._id !== action.payload._id),\r\n            }\r\n        case 'CLEAR_CART_REQUEST':\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case 'CLEAR_CART_SUCCESS':\r\n            // localStorage.removeItem(\"cart\")\r\n            return {\r\n                cartObj: [],\r\n                loading: false,\r\n                error: null\r\n            }\r\n        default:\r\n            return initialState;\r\n    }\r\n}\r\n\r\nexport default CartReducer;","import React, { createContext, useContext, useReducer } from 'react';\r\nimport { getCart } from '../action/cartAction';\r\nimport CartReducer, { initialState } from '../reducer/CartReducer';\r\nimport { UserContext } from './UserContext';\r\n\r\nexport const CartContext = createContext();\r\n\r\nconst CartContextProvider = (props) => {\r\n    const [cart, cartDispatch] = useReducer(CartReducer, initialState)\r\n    return (\r\n        <CartContext.Provider value={{ cart, cartDispatch }}>\r\n            {props.children}\r\n        </CartContext.Provider>\r\n    );\r\n};\r\n\r\nexport default CartContextProvider;","export const initialState = {\r\n    products: [],\r\n    loading: false,\r\n    error: null\r\n}\r\n\r\nconst ProductReducer = (state, action) => {\r\n    console.log(action);\r\n    switch (action.type) {\r\n        case 'GET_ALL_PRODUCT_REQUEST':\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case 'GET_ALL_PRODUCT_SUCCESS':\r\n            return {\r\n                ...state,\r\n                products: action.payload.products,\r\n                loading: false\r\n            };\r\n        case 'GET_ALL_PRODUCT_FAILED':\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: action.payload.error\r\n            }\r\n        case 'GET_PRODUCT_REQUEST':\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case 'GET_PRODUCT_SUCCESS':\r\n            return {\r\n                ...state,\r\n                products: action.payload.products,\r\n                loading: false\r\n            }\r\n        case 'GET_PRODUCT_RELATE_REQUEST':\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case 'GET_PRODUCT_RELATE_SUCCESS':\r\n            return {\r\n                ...state,\r\n                products: action.payload.products,\r\n                loading: false\r\n            }\r\n        case 'ADD_NEW_PRODUCT_REQUEST':\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n            }\r\n        case 'ADD_NEW_PRODUCT_SUCCESS':\r\n            let newProduct = [...state.products];\r\n            newProduct.unshift(action.payload.product);\r\n            return {\r\n                ...state,\r\n                products: newProduct,\r\n                loading: false,\r\n            }\r\n        case 'ADD_NEW_PRODUCT_FAILED':\r\n            return {\r\n                ...initialState,\r\n                error: action.payload.error\r\n            }\r\n        case 'UPDATE_PRODUCT_REQUEST':\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n            }\r\n        case 'UPDATE_PRODUCT_SUCCESS':\r\n            const { productImages, category, name, _id, slug, price, quantity, description, size, weight, brand, magnet, } = action.payload.product\r\n            let productState = [...state.products];\r\n            const index = productState.findIndex(p => p._id === _id);\r\n            productState[index] = { ...productState[index], name, category, productImages, slug, price, quantity, description, size, weight, brand, magnet, }\r\n            return {\r\n                ...state,\r\n                products: productState,\r\n                loading: false,\r\n            }\r\n        case 'DELETE_PRODUCT_REQUEST':\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n            }\r\n        case 'DELETE_PRODUCT_SUCCESS':\r\n            return {\r\n                ...state,\r\n                products: state.products.filter(product => product._id !== action.payload._id),\r\n                loading: false,\r\n            }\r\n        default:\r\n            return initialState;\r\n    }\r\n}\r\n\r\nexport default ProductReducer;","import React, { createContext, useReducer } from 'react';\r\nimport ProductReducer, { initialState } from '../reducer/ProductReducer';\r\n\r\nexport const ProductContext = createContext();\r\n\r\nconst ProductContextProvider = (props) => {\r\n    const [product, productDispatch] = useReducer(ProductReducer, initialState)\r\n    return (\r\n        <ProductContext.Provider value={{ product, productDispatch }}>\r\n            {props.children}\r\n        </ProductContext.Provider>\r\n    );\r\n};\r\n\r\nexport default ProductContextProvider;","export const initialState = {\r\n    categories: [],\r\n    loading: false,\r\n    error: null\r\n}\r\n\r\nconst createNewCategory = (parentId, categories, category) => {\r\n    const { _id, name, slug } = category\r\n    if (parentId == undefined) {\r\n        // Add root category\r\n        return [\r\n            ...categories,\r\n            {\r\n                _id, name, slug, children: []\r\n            }\r\n        ]\r\n    }\r\n    let myCategories = [];\r\n    for (let cate of categories) {\r\n        if (cate._id === parentId) {\r\n            // Add chilren of parentId\r\n            const newCate = { _id, name, slug, parentId, children: [] }\r\n            myCategories.push({\r\n                ...cate,\r\n                children: cate.children.length > 0 ? [...cate.children, newCate] : [newCate]\r\n            })\r\n        } else {\r\n            myCategories.push({\r\n                ...cate,\r\n                children: cate.children\r\n                    ? createNewCategory(parentId, cate.children, category)\r\n                    : []\r\n            })\r\n        }\r\n    }\r\n    return myCategories;\r\n}\r\n\r\nconst updateCategory = (categoryState, categoryUpdate) => {\r\n    for (let cate of categoryState) {\r\n        if (cate._id === categoryUpdate._id) {\r\n            cate.name = categoryUpdate.name;\r\n            cate.slug = categoryUpdate.slug;\r\n            cate.parentId = categoryUpdate.parentId\r\n            return categoryState;\r\n        } else {\r\n            if (cate.children.length > 0) {\r\n                updateCategory(cate.children, categoryUpdate);\r\n            }\r\n        }\r\n    }\r\n    return categoryState;\r\n}\r\n\r\nconst deleteCategory = (categoryState, id) => {\r\n    for (let cate of categoryState) {\r\n        if (cate._id === id) {\r\n            const newCate = categoryState.filter(c => c._id !== id);\r\n            return newCate;\r\n        } else {\r\n            if (cate.children.length > 0) {\r\n                const ch = deleteCategory(cate.children, id);\r\n                cate.children = ch;\r\n            }\r\n        }\r\n    }\r\n    return categoryState;\r\n}\r\n\r\nconst CategoryReducer = (state, action) => {\r\n    console.log(action);\r\n    switch (action.type) {\r\n        case 'GET_ALL_CATEGORY_REQUEST':\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case 'GET_ALL_CATEGORY_SUCCESS':\r\n            return {\r\n                ...state,\r\n                categories: action.payload.categories,\r\n                loading: false\r\n            };\r\n        case 'GET_ALL_CATEGORY_FAILED':\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: action.payload.error\r\n            }\r\n        case 'ADD_NEW_CATEGORY_REQUEST':\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n            }\r\n        case 'ADD_NEW_CATEGORY_SUCCESS':\r\n            const { category } = action.payload\r\n            const newCategory = createNewCategory(\r\n                category.parentId,\r\n                state.categories,\r\n                category,\r\n            )\r\n            return {\r\n                ...state,\r\n                categories: newCategory,\r\n                loading: false,\r\n            }\r\n        case 'ADD_NEW_CATEGORY_FAILED':\r\n            return {\r\n                ...state,\r\n                error: action.payload.error\r\n            }\r\n        case 'UPDATE_CATEGORY_REQUEST':\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n            }\r\n        case 'UPDATE_CATEGORY_SUCCESS':\r\n            const newCategoryUpdate = updateCategory(\r\n                state.categories,\r\n                action.payload.category,\r\n            )\r\n            return {\r\n                ...state,\r\n                categories: newCategoryUpdate,\r\n                loading: false,\r\n            }\r\n        case 'UPDATE_CATEGORY_FAILED':\r\n            return {\r\n                ...state,\r\n                error: action.payload.error\r\n            }\r\n        case 'DELETE_CATEGORY_REQUEST':\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n            }\r\n        case 'DELETE_CATEGORY_SUCCESS':\r\n            const newCategoryDelete = deleteCategory(\r\n                state.categories,\r\n                action.payload._id)\r\n            return {\r\n                ...state,\r\n                categories: newCategoryDelete,\r\n                loading: false,\r\n            }\r\n        case 'DELETE_CATEGORY_FAILED':\r\n            return {\r\n                ...state,\r\n                error: action.payload.error,\r\n                loading: false\r\n            }\r\n        default:\r\n            return initialState;\r\n    }\r\n}\r\n\r\nexport default CategoryReducer;","import React, { createContext, useReducer, useState } from 'react';\r\nimport CategoryReducer, { initialState } from '../reducer/CategoryReducer';\r\n\r\nexport const CategoryContext = createContext();\r\n\r\nconst CategoryContextProvider = (props) => {\r\n    const [category, categoryDispatch] = useReducer(CategoryReducer, initialState)\r\n    return (\r\n        <CategoryContext.Provider value={{ category, categoryDispatch }}>\r\n            {props.children}\r\n        </CategoryContext.Provider>\r\n    );\r\n};\r\n\r\nexport default CategoryContextProvider;","import axios from \"../helper/axios\";\r\n\r\nexport const getCart = async (dispatch) => {\r\n    try {\r\n        // const user = localStorage.getItem('user');\r\n        // console.log(user);\r\n        dispatch({ type: 'GET_CART_REQUEST' });\r\n        let config = {\r\n            method: 'GET',\r\n            url: '/api/cart/get',\r\n        }\r\n        const res = await axios(config);\r\n        console.log(\"Res cart: \", res.data);\r\n        if (res.status === 200)\r\n            dispatch({ type: 'GET_CART_SUCCESS', payload: { cartItems: res.data.cart_db.cartItems } })\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const addToCart = async (dispatch, payload) => {\r\n    console.log(\"Payload card: \", payload);\r\n    try {\r\n        dispatch({ type: 'ADD_TO_CART_REQUEST' });\r\n        const user = localStorage.getItem('user');\r\n        if (user != null) {\r\n            let config = {\r\n                method: 'POST',\r\n                url: '/api/cart/addtocart',\r\n                data: { cartItems: payload.cartItem }\r\n            }\r\n            const res = await axios(config);\r\n            console.log(res);\r\n        }\r\n        dispatch({\r\n            type: 'ADD_TO_CART_SUCCESS',\r\n            payload: {\r\n                cartItem: payload.cartItem\r\n            }\r\n        })\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const updateCart = async (dispatch, payload) => {\r\n    console.log(\"Payload card: \", payload);\r\n    try {\r\n        dispatch({ type: 'UPDATE_CART_ITEM_REQUEST' });\r\n        const user = localStorage.getItem('user');\r\n        if (user != null) {\r\n            let config = {\r\n                method: 'POST',\r\n                url: '/api/cart/addtocart',\r\n                data: {\r\n                    cartItems:\r\n                    {\r\n                        price: payload.cartItem.priceUpdate,\r\n                        product: payload.cartItem.productUpdate,\r\n                        quantity: payload.cartItem.quantityUpdate,\r\n                    }\r\n                }\r\n            }\r\n            const res = await axios(config);\r\n            console.log(res);\r\n        }\r\n        dispatch({\r\n            type: 'UPDATE_CART_ITEM_SUCCESS',\r\n            payload: {\r\n                cartItem: payload.cartItem\r\n            }\r\n        })\r\n    } catch (error) {\r\n\r\n    }\r\n}\r\n\r\nexport const removeCartItem = async (dispatch, payload) => {\r\n    try {\r\n        dispatch({ type: 'REMOVE_CART_ITEM_REQUEST' });\r\n        const user = localStorage.getItem('user');\r\n        if (user != null) {\r\n            let config = {\r\n                method: 'DELETE',\r\n                url: '/api/cart/' + payload._id,\r\n            }\r\n            const res = await axios(config);\r\n            console.log(\"Res cart: \", res)\r\n        }\r\n        dispatch({\r\n            type: 'REMOVE_CART_ITEM_SUCCESS',\r\n            payload: {\r\n                _id: payload._id\r\n            }\r\n        })\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const clearCart = async (dispatch) => {\r\n    try {\r\n        dispatch({ type: 'CLEAR_CART_REQUEST' });\r\n        const user = localStorage.getItem('user');\r\n        if (user != null) {\r\n            let config = {\r\n                method: 'DELETE',\r\n                url: '/api/cart/destroy',\r\n            }\r\n            const res = await axios(config);\r\n            console.log(\"Res cart: \", res)\r\n        }\r\n        dispatch({\r\n            type: 'CLEAR_CART_SUCCESS',\r\n        })\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}","let user = localStorage.getItem('a_user') ? JSON.parse(localStorage.getItem('a_user')) : '';\r\nlet token = localStorage.getItem('a_token') ? JSON.parse(localStorage.getItem('a_token')) : '';\r\n\r\nexport const initialState = {\r\n    isAuthenticated: false,\r\n    userDetails: user,\r\n    token: token,\r\n    loading: false,\r\n    error: null,\r\n    message: null,\r\n}\r\n\r\nconst AuthReducer = (state, action) => {\r\n    console.log(\"Action: \", action);\r\n    switch (action.type) {\r\n        case 'LOGIN_REQUEST':\r\n            return {\r\n                ...state,\r\n                isAuthenticated: false,\r\n                loading: true,\r\n            }\r\n        case 'LOGIN_SUCCESS':\r\n            return {\r\n                ...state,\r\n                isAuthenticated: true,\r\n                userDetails: action.payload.user,\r\n                token: action.payload.token,\r\n                loading: false,\r\n                error: null,\r\n                message: null,\r\n            }\r\n        case 'LOGIN_FAILED':\r\n            return {\r\n                ...state,\r\n                isAuthenticated: false,\r\n                loading: false,\r\n                error: action.error.type,\r\n                message: action.error.msg\r\n            }\r\n        case 'LOGOUT':\r\n            return {\r\n                ...state,\r\n                isAuthenticated: false,\r\n                userDetails: '',\r\n                token: ''\r\n            }\r\n        case 'REGISTER_REQUEST':\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case 'REGISTER_SUCCESS':\r\n            return {\r\n                ...state,\r\n                error: null,\r\n                message: action.payload,\r\n                loading: false,\r\n            }\r\n        case 'REGISTER_FAILED':\r\n            return {\r\n                ...state,\r\n                error: action.payload.error.type ,\r\n                message: action.payload.error.msg,\r\n                loading: false,\r\n            }\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n};\r\n\r\nexport default AuthReducer;","import React, { createContext, useReducer } from 'react';\r\nimport AuthReducer, { initialState } from '../reducer/AuthReducer';\r\n\r\nexport const AuthContext = createContext();\r\n\r\nconst AuthContextProvider = (props) => {\r\n    const [aUser, aDispatch] = useReducer(AuthReducer, initialState);\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ aUser, aDispatch }}>\r\n            {props.children}\r\n        </AuthContext.Provider>\r\n    );\r\n};\r\n\r\nexport default AuthContextProvider;","export const initialState = {\r\n    orders: [],\r\n    loading: false,\r\n    error: null\r\n}\r\n\r\nconst OrderAdminReducer = (state, action) => {\r\n    console.log(\"Order admin action: \", action);\r\n    const orderState = state.orders;\r\n    let newState;\r\n    switch (action.type) {\r\n        case 'GET_ALL_ORDER_REQUEST':\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case 'GET_ALL_ORDER_SUCCESS':\r\n            return {\r\n                ...state,\r\n                orders: action.payload.orders,\r\n                loading: false,\r\n            }\r\n        case 'UPDATE_ORDER_REQUEST':\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case 'UPDATE_ORDER_SUCCESS':\r\n            const { order } = action.payload\r\n            newState = orderState.map(el => {\r\n                return el._id == order._id ? order : el\r\n            })\r\n            return {\r\n                ...state,\r\n                orders: newState,\r\n                loading: false\r\n            }\r\n        default:\r\n            return initialState;\r\n    }\r\n}\r\n\r\nexport default OrderAdminReducer;\r\n","import React, { createContext, useReducer } from 'react';\r\nimport OrderAdminReducer, { initialState } from '../reducer/OrderAdminReducer';\r\n\r\nexport const OrderAdminContext = createContext();\r\n\r\nconst OrderAdminContextProvider = (props) => {\r\n    const [orderAdmin, orderAdminDispatch] = useReducer(OrderAdminReducer, initialState)\r\n    return (\r\n        <OrderAdminContext.Provider value={{ orderAdmin, orderAdminDispatch }}>\r\n            {props.children}\r\n        </OrderAdminContext.Provider>\r\n    );\r\n};\r\n\r\nexport default OrderAdminContextProvider;","export const api = 'http://localhost:5000/';","import axios from 'axios';\r\nimport { api } from '../config/urlConfig';\r\n\r\nconst token = JSON.parse(window.localStorage.getItem('token'));\r\nconsole.log(token);\r\n\r\nconst axiosIntance = axios.create({\r\n  baseURL: api,\r\n});\r\n\r\nexport default axiosIntance;\r\n","export const initialState = {\r\n    open: false,\r\n    message: '',\r\n    type: ''\r\n}\r\n\r\nconst SnackbarReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'SET_OPEN':\r\n            return {\r\n                ...state,\r\n                open: true,\r\n                message: action.payload.msg,\r\n                type: action.payload.type\r\n            }\r\n        case 'SET_CLOSE':\r\n            return {\r\n                ...state,\r\n                open: false,\r\n            }\r\n        default:\r\n            throw new Error(\"Invalid action!\");\r\n    }\r\n}\r\n\r\nexport default SnackbarReducer;","import React, { createContext, useReducer } from 'react';\r\nimport SnackbarReducer, { initialState } from '../reducer/SnackbarReducer';\r\n\r\nexport const SnackbarContext = createContext();\r\n\r\nconst SnackbarContextProvider = (props) => {\r\n    const [openSnackbar, openSnackbarDispatch] = useReducer(SnackbarReducer, initialState)\r\n    return (\r\n        <SnackbarContext.Provider value={{ openSnackbar, openSnackbarDispatch }}>\r\n            {props.children}\r\n        </SnackbarContext.Provider>\r\n    );\r\n};\r\n\r\nexport default SnackbarContextProvider;","import axios from \"../helper/axios\";\r\nimport aaxios from \"../helper/adminAxios\";\r\n\r\nexport const getAllProduct = async (dispatch) => {\r\n    dispatch({ type: 'GET_ALL_PRODUCT_REQUEST' });\r\n    let config = {\r\n        method: 'GET',\r\n        url: '/api/product/get',\r\n    }\r\n    const res = await axios(config);\r\n    console.log(res);\r\n\r\n    if (res.status === 200) {\r\n        let newData = [...res.data.product_db]\r\n        res.data.product_db.map((el, index) => {\r\n            newData[index].ratingView = getRate(el.ratings)\r\n        })\r\n        dispatch({\r\n            type: 'GET_ALL_PRODUCT_SUCCESS',\r\n            payload: {\r\n                products: newData\r\n            }\r\n        })\r\n    } else {\r\n        dispatch({\r\n            type: 'GET_ALL_PRODUCT_FAILED',\r\n            payload: {\r\n                error: res.data.error\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const getNewestProduct = async () => {\r\n    try {\r\n        const res = await axios.get('/api/product/get',);\r\n        if (res.status == 200) {\r\n            let newData = [...res.data.product_db]\r\n            res.data.product_db.map((el, index) => {\r\n                newData[index].ratingView = getRate(el.ratings)\r\n            })\r\n            return newData.slice(0, 6)\r\n        }\r\n    } catch (error) {\r\n        throw new Error(error);\r\n    }\r\n}\r\n\r\nexport const getPopulateProduct = async () => {\r\n    try {\r\n        const res = await axios.get('/api/product/get?sort=-offer',);\r\n        if (res.status == 200) {\r\n            let newData = [...res.data.product_db]\r\n            res.data.product_db.map((el, index) => {\r\n                newData[index].ratingView = getRate(el.ratings)\r\n            })\r\n            return newData.slice(0, 6)\r\n        }\r\n    } catch (error) {\r\n        throw new Error(error);\r\n    }\r\n}\r\n\r\nexport const getRelateProduct = async (payload) => {\r\n    try {\r\n        const res = await axios.get(`/api/product/get?category=${payload.slug}`);\r\n        console.log(res);\r\n        if (res.status == 200) {\r\n            let newData = [...res.data.product_db]\r\n            res.data.product_db.map((el, index) => {\r\n                newData[index].ratingView = getRate(el.ratings)\r\n            })\r\n            const products = res.data.product_db.filter(p => p._id != payload.id)\r\n            return products\r\n        }\r\n    } catch (error) {\r\n        throw new Error(error);\r\n    }\r\n}\r\n\r\nexport const getProduct = async (dispatch, payload) => {\r\n\r\n    console.log(\"payload: \", payload);\r\n    let filterArr = [];\r\n    payload.filterArr.forEach(el => {\r\n        for (let key in el) {\r\n            if (el[key] != null) {\r\n                filterArr.push(el);\r\n            }\r\n        }\r\n    })\r\n    let paramFilter = \"\"\r\n    if (filterArr.length > 0) {\r\n        filterArr.forEach(el => {\r\n            for (let key in el) {\r\n                if (key == 'price') {\r\n                    switch (el[key]) {\r\n                        case 'lt1':\r\n                            el[key] = 'price[lt]=100001'\r\n                            break;\r\n                        case '1to2':\r\n                            el[key] = 'price[gt]=100000&price[lt]=200001'\r\n                            break;\r\n                        case '2to5':\r\n                            el[key] = 'price[gt]=200000&price[lt]=500001'\r\n                            break;\r\n                        case '5to10':\r\n                            el[key] = 'price[gt]=500000&price[lt]=1000001'\r\n                            break;\r\n                        case 'gt10':\r\n                            el[key] = 'price[gt]=1000000'\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    paramFilter += `${el[key]}&`\r\n                } else\r\n                    paramFilter += `${key}=${el[key]}&`\r\n            }\r\n        })\r\n    }\r\n\r\n    const param = paramFilter.slice(0, paramFilter.length - 1);\r\n    console.log(param);\r\n    try {\r\n        dispatch({ type: 'GET_PRODUCT_REQUEST' });\r\n        let config = {\r\n            method: 'GET',\r\n            url: '/api/product/get?' + param,\r\n        }\r\n        const res = await axios(config);\r\n\r\n        let newData = [...res.data.product_db]\r\n        res.data.product_db.map((el, index) => {\r\n            newData[index].ratingView = getRate(el.ratings)\r\n        })\r\n\r\n        if (res.status === 200) {\r\n            dispatch({\r\n                type: 'GET_PRODUCT_SUCCESS',\r\n                payload: { products: newData }\r\n            });\r\n        }\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nconst getRate = (ratings) => {\r\n    const quantity = ratings.length;\r\n    const sum = ratings.reduce((a, b) => Number(a) + Number(b.rating), 0);\r\n    const rate = (sum / quantity) || 0\r\n    return { rate, quantity }\r\n}\r\n\r\nexport const getProductDetail = async (payload) => {\r\n    try {\r\n        let config = {\r\n            method: 'GET',\r\n            url: '/api/product/' + payload,\r\n        }\r\n        const res = await axios(config);\r\n\r\n        if (res.status === 200) {\r\n            console.log(res);\r\n            let newData = { ...res.data.product }\r\n            newData.ratingView = getRate(newData.ratings)\r\n            return newData\r\n        }\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\n\r\nexport const addProduct = async (dispatch, payload, open) => {\r\n    let data = {};\r\n    payload.forEach((value, key) => {\r\n        data[key] = value\r\n    })\r\n    try {\r\n        dispatch({ type: 'ADD_NEW_PRODUCT_REQUEST' });\r\n        let config = {\r\n            method: 'POST',\r\n            url: '/api/product/add',\r\n            data: data,\r\n        }\r\n        const res = await aaxios(config);\r\n        console.log(\"Res: \", res);\r\n        if (res.status === 201) {\r\n            dispatch({\r\n                type: 'ADD_NEW_PRODUCT_SUCCESS',\r\n                payload: { product: res.data.product }\r\n            });\r\n            open({\r\n                type: 'SET_OPEN',\r\n                payload: {\r\n                    msg: \"Đã cập nhật!\",\r\n                    type: \"success\"\r\n                }\r\n            })\r\n        }\r\n    } catch (error) {\r\n        dispatch({\r\n            type: 'ADD_NEW_PRODUCT_FAILED',\r\n            payload: {\r\n                error: error.response.data\r\n            }\r\n        })\r\n        open({\r\n            type: 'SET_OPEN',\r\n            payload: {\r\n                msg: \"Đã xảy ra lỗi!\",\r\n                type: \"error\"\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const updateProduct = async (dispatch, payload, open) => {\r\n    let data = {};\r\n    payload.forEach((value, key) => {\r\n        data[key] = value\r\n    })\r\n    try {\r\n        dispatch({  type: 'UPDATE_PRODUCT_REQUEST' })\r\n        let config = {\r\n            method: 'PUT',\r\n            url: '/api/product/' + data._id,\r\n            data: data,\r\n        }\r\n        const res = await aaxios(config);\r\n        if (res.status === 200) {\r\n            dispatch({\r\n                type: 'UPDATE_PRODUCT_SUCCESS',\r\n                payload: { product: res.data.product }\r\n            })\r\n            open({\r\n                type: 'SET_OPEN',\r\n                payload: {\r\n                    msg: \"Đã cập nhật!\",\r\n                    type: \"success\"\r\n                }\r\n            })\r\n        }\r\n    } catch (error) {\r\n        console.log(error);\r\n        open({\r\n            type: 'SET_OPEN',\r\n            payload: {\r\n                msg: \"Đã xảy ra lỗi!\",\r\n                type: \"error\"\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport const deleteProduct = async (dispatch, payload, open) => {\r\n    try {\r\n        let config = {\r\n            method: 'DELETE',\r\n            url: '/api/product/' + payload._id,\r\n        }\r\n        dispatch({  type: 'DELETE_PRODUCT_REQUEST' })\r\n        const res = await aaxios(config);\r\n        console.log(res);\r\n        if (res.status === 200) {\r\n            const deleteArray = [];\r\n            payload.image.map(img => {\r\n                deleteArray.push(img.public_id);\r\n            })\r\n            const resCloud = await aaxios.post('/api/delete', { public_id: deleteArray });\r\n            console.log(resCloud);\r\n            dispatch({\r\n                type: 'DELETE_PRODUCT_SUCCESS',\r\n                payload: { _id: res.data.data._id }\r\n            })\r\n            open({\r\n                type: 'SET_OPEN',\r\n                payload: {\r\n                    msg: \"Đã cập nhật!\",\r\n                    type: \"success\"\r\n                }\r\n            })\r\n        }\r\n\r\n    } catch (error) {\r\n        console.log(error);\r\n        open({\r\n            type: 'SET_OPEN',\r\n            payload: {\r\n                msg: \"Đã xảy ra lỗi!\",\r\n                type: \"error\"\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const removeProductDetail = (dispatch) => {\r\n    try {\r\n        dispatch({ type: 'DELETE_PRODUCT_DETAIL_SUCCESS' })\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}\r\n\r\nexport const searchProduct = async (payload) => {\r\n    try {\r\n        let config = {\r\n            method: 'GET',\r\n            url: '/api/product/get?slug[regex]=' + payload.key.toLowerCase(),\r\n        }\r\n        const res = await aaxios(config);\r\n        return res.data.product_db\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}","import { useHistory } from 'react-router-dom';\r\nimport axios from '../helper/adminAxios';\r\n\r\nexport const adminLogin = async (dispatch, payload) => {\r\n    try {\r\n        dispatch({ type: 'LOGIN_REQUEST' });\r\n        let config = {\r\n            method: 'POST',\r\n            url: '/admin/login',\r\n            data: payload\r\n        }\r\n        const res = await axios(config);\r\n        console.log(\"Data: \", res); // msg, user, token\r\n        if (res.status === 200) {\r\n            const { token, user } = res.data\r\n            console.log(res.data);\r\n            dispatch({ type: 'LOGIN_SUCCESS', payload: { token, user } });\r\n            localStorage.setItem('a_token', JSON.stringify(token));\r\n            localStorage.setItem('a_user', JSON.stringify(user));\r\n            axios.defaults.headers.common['Authorization'] = token;\r\n        }\r\n    } catch (error) {\r\n        dispatch({ type: 'LOGIN_FAILED', error: error.response.data });\r\n    }\r\n};\r\n\r\nexport const adminRegister = async (dispatch, payload) => {\r\n    payload.role = \"admin\"\r\n    try {\r\n        dispatch({ type: 'REGISTER_REQUEST' });\r\n        let config = {\r\n            method: 'POST',\r\n            url: '/admin/register',\r\n            data: payload\r\n        }\r\n        const res = await axios(config);\r\n        console.log(res);\r\n        if (res.status === 201) {\r\n            dispatch({\r\n                type: 'REGISTER_SUCCESS',\r\n                payload: res.data.msg\r\n            })\r\n        }\r\n    } catch (error) {\r\n        dispatch({ type: 'REGISTER_FAILED', payload: { error: error.response.data } });\r\n    }\r\n}\r\n\r\nexport const isAdminLogin = (dispatch) => {\r\n    try {\r\n        const token = JSON.parse(localStorage.getItem('a_token'));\r\n        if (token) {\r\n            const user = JSON.parse(localStorage.getItem('a_user'));\r\n            dispatch({ type: 'LOGIN_SUCCESS', payload: { token, user } });\r\n            axios.defaults.headers.common['Authorization'] = token;\r\n        } else {\r\n            // dispatch({ type: 'LOGIN_FAILED', payload: { error: { msg: 'Failed to login!', type: '' } } })\r\n        }\r\n    } catch (error) {\r\n        dispatch({ type: 'LOGIN_FAILED', error: error.response.data });\r\n    }\r\n}\r\n\r\nexport const adminLogout = async (dispatch, categoryDispatch, productDispatch) => {\r\n    dispatch({ type: 'LOGOUT' });\r\n    categoryDispatch({ type: 'undefined' });\r\n    productDispatch({ type: 'undefined' });\r\n    localStorage.removeItem(\"a_token\");\r\n    localStorage.removeItem(\"a_user\");\r\n}\r\n","import axios from '../helper/axios';\r\n\r\nexport const userLogin = async (dispatch, payload, open) => {\r\n    try {\r\n        dispatch({ type: 'LOGIN_REQUEST' });\r\n        let config = {\r\n            method: 'POST',\r\n            url: '/user/login',\r\n            data: payload\r\n        }\r\n        const res = await axios(config);\r\n        console.log(\"Data: \", res); // msg, user, token\r\n        if (res.status === 200) {\r\n            const { token, user } = res.data\r\n            console.log(res.data);\r\n            dispatch({ type: 'LOGIN_SUCCESS', payload: { token, user } });\r\n            open({\r\n                type: 'SET_OPEN',\r\n                payload: {\r\n                    msg: \"Đã đăng nhập!\",\r\n                    type: \"success\"\r\n                }\r\n            })\r\n            localStorage.setItem('token', JSON.stringify(token));\r\n            localStorage.setItem('user', JSON.stringify(user));\r\n            axios.defaults.headers.common['Authorization'] = token;\r\n        }\r\n    } catch (error) {\r\n        dispatch({ type: 'LOGIN_FAILED', error: error.response.data });\r\n    }\r\n};\r\n\r\nexport const userRegister = async (dispatch, payload, open, history) => {\r\n    payload.role = \"user\"\r\n    try {\r\n        dispatch({ type: 'REGISTER_REQUEST' });\r\n        let config = {\r\n            method: 'POST',\r\n            url: '/user/register',\r\n            data: payload\r\n        }\r\n        const res = await axios(config);\r\n        console.log(res);\r\n        if (res.status === 201) {\r\n            dispatch({\r\n                type: 'REGISTER_SUCCESS',\r\n                payload: res.data.msg\r\n            })\r\n            open({\r\n                type: 'SET_OPEN',\r\n                payload: {\r\n                    msg: \"Đăng ký thành công!\",\r\n                    type: \"success\"\r\n                }\r\n            })\r\n            history.push('/')\r\n        }\r\n    } catch (error) {\r\n        dispatch({ type: 'REGISTER_FAILED', payload: { error: error.response.data } });\r\n        // open({\r\n        //     type: 'SET_OPEN',\r\n        //     payload: {\r\n        //         msg: \"Đã xảy ra lỗi, vui lòng thử lại!\",\r\n        //         type: \"error\"\r\n        //     }\r\n        // })\r\n    }\r\n}\r\n\r\nexport const isUserLogin = (dispatch) => {\r\n    try {\r\n        const token = JSON.parse(localStorage.getItem('token'));\r\n        if (token) {\r\n            const user = JSON.parse(localStorage.getItem('user'));\r\n            dispatch({ type: 'LOGIN_SUCCESS', payload: { token, user } });\r\n            axios.defaults.headers.common['Authorization'] = token;\r\n        } else {\r\n            console.log(\"No token isLogin\")\r\n            // dispatch({ type: 'LOGIN_FAILED', payload: { error: { msg: 'Failed to login!', type: '' } } })\r\n        }\r\n    } catch (error) {\r\n        dispatch({ type: 'LOGIN_FAILED', error: error.response.data });\r\n    }\r\n}\r\n\r\nexport const userLogout = async (dispatch, open) => {\r\n    dispatch({ type: 'LOGOUT' });\r\n    open({\r\n        type: 'SET_OPEN',\r\n        payload: {\r\n            msg: \"Đã đăng xuất!\",\r\n            type: \"success\"\r\n        }\r\n    })\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"user\");\r\n}\r\n\r\nexport const ratingUser = async (payload, open) => {\r\n    try {\r\n        await Promise.all(payload.ratings.map(async (el, index) => {\r\n            const res = await axios.post('/user/rating', el)\r\n            console.log(res);\r\n        })).then(() => {\r\n            open({\r\n                type: 'SET_OPEN',\r\n                payload: {\r\n                    msg: \"Đã đánh giá!\",\r\n                    type: \"success\"\r\n                }\r\n            })\r\n        })\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\nexport const changePassword = async (payload, open) => {\r\n    const { password, newPassword } = payload\r\n    try {\r\n        const res = await axios.put('/user/changepassword', { password, newPassword })\r\n        if (res.status == 200) {\r\n            return { msg: res.data.msg }\r\n        }\r\n    } catch (error) {\r\n        return { error: error.response.data.msg, type: error.response.data.type }\r\n    }\r\n}","export const initialState = {\r\n    address: [],\r\n    error: null,\r\n    loading: false,\r\n}\r\n\r\nconst AddressReducer = (state, action) => {\r\n    console.log(\"Address action: \", action);\r\n    switch (action.type) {\r\n        case 'GET_USER_ADDRESS_REQUEST':\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case 'GET_USER_ADDRESS_SUCCESS':\r\n            return {\r\n                ...state,\r\n                address: action.payload.address.address,\r\n                loading: false,\r\n            }\r\n        case 'ADD_USER_ADDRESS_REQUEST':\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case 'ADD_USER_ADDRESS_SUCCESS':\r\n            return {\r\n                ...state,\r\n                address: action.payload.address,\r\n                loading: false,\r\n            }\r\n        case 'DELETE_USER_ADDRESS_REQUEST':\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n        case 'DELETE_USER_ADDRESS_SUCCESS':\r\n            return {\r\n                ...state,\r\n                address: action.payload.address,\r\n                loading: false,\r\n            }\r\n        case 'CLEAR_ADDRESS_SUCCESS':\r\n            return {\r\n                initialState\r\n            }\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\nexport default AddressReducer;\r\n","import React, { createContext, useContext, useReducer } from 'react';\r\nimport AddressReducer, { initialState } from '../reducer/AddressReducer';\r\n\r\nexport const AddressContext = createContext();\r\n\r\nconst AddressContextProvider = (props) => {\r\n    const [address, addressDispatch] = useReducer(AddressReducer, initialState)\r\n    return (\r\n        <AddressContext.Provider value={{ address, addressDispatch }}>\r\n            {props.children}\r\n        </AddressContext.Provider>\r\n    );\r\n};\r\n\r\nexport default AddressContextProvider;"],"sourceRoot":""}